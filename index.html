<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Fxp&#39;Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Fxp&#39;Blog">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Fxp&#39;Blog">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Fxp">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Fxp'Blog" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.2.0/css/fork-awesome.min.css">

<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Fxp&#39;Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS è®¢é˜…"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="æœç´¢"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="æœç´¢"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-è·¯å¾„æ€»å’Œ" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/09/11/%E8%B7%AF%E5%BE%84%E6%80%BB%E5%92%8C/" class="article-date">
  <time class="dt-published" datetime="2025-09-11T14:14:45.000Z" itemprop="datePublished">2025-09-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/09/11/%E8%B7%AF%E5%BE%84%E6%80%BB%E5%92%8C/">è·¯å¾„æ€»å’Œ</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>æœ¬é¢˜ä¸ºåŠ›æ‰£ <strong>437. è·¯å¾„æ€»å’Œ â…¢</strong>ï¼š<br>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ <code>root</code>ï¼Œå’Œä¸€ä¸ªæ•´æ•° <code>targetSum</code>ï¼Œæ±‚è¯¥äºŒå‰æ ‘é‡ŒèŠ‚ç‚¹å€¼ä¹‹å’Œç­‰äº <code>targetSum</code> çš„è·¯å¾„æ•°ç›®ã€‚  </p>
<p>è·¯å¾„ <strong>ä¸éœ€è¦ä»æ ¹èŠ‚ç‚¹å¼€å§‹</strong>ï¼Œä¹Ÿä¸éœ€è¦åœ¨å¶å­èŠ‚ç‚¹ç»“æŸï¼Œä½†å¿…é¡»æ˜¯ <strong>å‘ä¸‹çš„è·¯å¾„</strong>ï¼ˆä»çˆ¶èŠ‚ç‚¹åˆ°å­èŠ‚ç‚¹ï¼‰ã€‚</p>
<hr>
<h2 id="è§£é¢˜æ€è·¯"><a href="#è§£é¢˜æ€è·¯" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h2><ol>
<li><p><strong>é€’å½’ä¸çŠ¶æ€ä¼ é€’</strong><br>åœ¨é€’å½’ç±»çš„é¢˜ç›®ä¸­ï¼Œå‡ ä¹éƒ½æ¶‰åŠåˆ° <strong>çŠ¶æ€çš„ä¼ é€’</strong>ï¼Œå³å½“å‰é€’å½’ä½ç½®æ‰€å¸¦çš„ä¿¡æ¯ã€‚  </p>
<ul>
<li>åœ¨æ ‘é‡Œï¼šå½“å‰èŠ‚ç‚¹æ˜¯è°ï¼Ÿ  </li>
<li>åœ¨è·¯å¾„é¢˜é‡Œï¼šå½“å‰èµ°åˆ°çš„è·¯å¾„å’Œæ˜¯å¤šå°‘ï¼Ÿ  </li>
<li>åœ¨ç»„åˆé¢˜é‡Œï¼šå½“å‰é€‰äº†å“ªäº›æ•°ï¼Ÿ  </li>
<li>åœ¨åŠ¨æ€è§„åˆ’é‡Œï¼šå½“å‰ä¸‹æ ‡ã€å‰©ä½™å®¹é‡ã€å‰©ä½™æ­¥æ•°ï¼Ÿ</li>
</ul>
<p>ğŸ‘‰ æ²¡æœ‰è¿™äº›çŠ¶æ€ï¼Œå°±æ— æ³•ç¡®å®šæ¥ä¸‹æ¥è¯¥æ€ä¹ˆèµ°ã€‚  </p>
<p>åœ¨æœ¬é¢˜ä¸­ï¼Œéœ€è¦ä¼ é€’çš„çŠ¶æ€æ˜¯ï¼š<strong>ç»è¿‡å½“å‰èŠ‚ç‚¹åï¼Œè·ç¦» <code>targetSum</code> è¿˜å·®å¤šå°‘</strong>ã€‚  </p>
<p>åŒæ—¶ï¼Œé€’å½’çš„è¿”å›å€¼ä¹Ÿéå¸¸é‡è¦ã€‚é€šå¸¸è¿”å›çš„å°±æ˜¯ã€Œç¬¦åˆæ¡ä»¶çš„ä¸ªæ•°ã€ç­‰ä¿¡æ¯ï¼Œå› ä¸ºåªæœ‰è¿”å›å€¼æ‰èƒ½é€å±‚æ±‡æ€»ç­”æ¡ˆã€‚  </p>
</li>
<li><p><strong>é€’å½’ç»“æŸæ¡ä»¶</strong><br>å½“éå†åˆ°ç©ºèŠ‚ç‚¹æ—¶ï¼Œé€’å½’åº”å½“ç»“æŸï¼Œè¿”å› 0ã€‚</p>
</li>
</ol>
<hr>
<h2 id="ä»£ç å®ç°ï¼ˆGoï¼‰"><a href="#ä»£ç å®ç°ï¼ˆGoï¼‰" class="headerlink" title="ä»£ç å®ç°ï¼ˆGoï¼‰"></a>ä»£ç å®ç°ï¼ˆGoï¼‰</h2><pre><code class="language-go">func pathSum(root *TreeNode, targetSum int) int &#123;
    if root == nil &#123;
        return 0
    &#125;
    return countPath(root, targetSum) + pathSum(root.Left, targetSum) + pathSum(root.Right, targetSum)
&#125;

// ç»Ÿè®¡ä»¥ node ä¸ºèµ·ç‚¹ï¼Œå‘ä¸‹è·¯å¾„å’Œç­‰äº targetSum çš„æ•°é‡
func countPath(node *TreeNode, targetSum int) int &#123;
    if node == nil &#123;
        return 0
    &#125;
    count := 0
    if node.Val == targetSum &#123;
        count++
    &#125;
    count += countPath(node.Left, targetSum-node.Val)
    count += countPath(node.Right, targetSum-node.Val)
    return count
&#125;
</code></pre>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/09/11/%E8%B7%AF%E5%BE%84%E6%80%BB%E5%92%8C/" data-id="cmfjgku960000gcpv6isdc7kc" data-title="è·¯å¾„æ€»å’Œ" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DFS/" rel="tag">DFS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%88%B7%E9%A2%98/" rel="tag">åˆ·é¢˜</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">ç®—æ³•</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%80%92%E5%BD%92/" rel="tag">é€’å½’</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-k8sæ·±å…¥ç†è§£" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/09/10/k8s%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/" class="article-date">
  <time class="dt-published" datetime="2025-09-10T15:37:43.000Z" itemprop="datePublished">2025-09-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/09/10/k8s%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/">k8sæ·±å…¥ç†è§£</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Kubernetesæ·±åº¦å­¦ä¹ æ€»ç»“ï¼šä»æ¦‚å¿µåˆ°å®è·µ"><a href="#Kubernetesæ·±åº¦å­¦ä¹ æ€»ç»“ï¼šä»æ¦‚å¿µåˆ°å®è·µ" class="headerlink" title="Kubernetesæ·±åº¦å­¦ä¹ æ€»ç»“ï¼šä»æ¦‚å¿µåˆ°å®è·µ"></a>Kubernetesæ·±åº¦å­¦ä¹ æ€»ç»“ï¼šä»æ¦‚å¿µåˆ°å®è·µ</h1><blockquote>
<p>åŸºäºRaft KVåˆ†å¸ƒå¼ç³»ç»Ÿé¡¹ç›®çš„Kuberneteså­¦ä¹ ä¹‹è·¯</p>
</blockquote>
<h2 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h2><ol>
<li><a href="#1-%E5%88%9D%E8%AF%86kubernetes%E8%A7%A3%E5%86%B3%E8%AE%A4%E7%9F%A5%E5%9B%B0%E6%83%91">åˆè¯†Kubernetesï¼šè§£å†³è®¤çŸ¥å›°æƒ‘</a></li>
<li><a href="#2-kubernetes%E7%9A%84%E6%9C%AC%E8%B4%A8%E5%AE%9A%E4%BD%8D">Kubernetesçš„æœ¬è´¨å®šä½</a></li>
<li><a href="#3-pod%E6%9C%80%E5%B0%8F%E9%83%A8%E7%BD%B2%E5%8D%95%E5%85%83%E7%9A%84%E6%B7%B1%E5%BA%A6%E7%90%86%E8%A7%A3">Podï¼šæœ€å°éƒ¨ç½²å•å…ƒçš„æ·±åº¦ç†è§£</a></li>
<li><a href="#4-kubernetes%E5%9C%A8%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E4%B8%AD%E7%9A%84%E5%AE%9E%E9%99%85%E9%83%A8%E7%BD%B2">Kubernetesåœ¨æ“ä½œç³»ç»Ÿä¸­çš„å®é™…éƒ¨ç½²</a></li>
<li><a href="#5-pod%E8%B0%83%E5%BA%A6%E5%88%B0%E7%89%A9%E7%90%86%E8%8A%82%E7%82%B9%E7%9A%84%E5%AE%8C%E6%95%B4%E6%9C%BA%E5%88%B6">Podè°ƒåº¦åˆ°ç‰©ç†èŠ‚ç‚¹çš„å®Œæ•´æœºåˆ¶</a></li>
<li><a href="#6-pod%E5%88%9B%E5%BB%BA%E5%92%8C%E7%AE%A1%E7%90%86%E7%9A%84%E9%BB%91%E7%AE%B1%E6%8F%AD%E7%A7%98">Podåˆ›å»ºå’Œç®¡ç†çš„é»‘ç®±æ­ç§˜</a></li>
<li><a href="#7-%E5%BA%94%E7%94%A8%E5%86%85%E9%83%A8%E5%88%9B%E5%BB%BApod%E7%9A%84%E5%A5%97%E5%A8%83%E7%8E%B0%E8%B1%A1">åº”ç”¨å†…éƒ¨åˆ›å»ºPodçš„â€å¥—å¨ƒâ€ç°è±¡</a></li>
<li><a href="#8-kubernetes%E8%BF%90%E8%A1%8C%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%AE%8C%E6%95%B4%E6%93%8D%E4%BD%9C%E6%8C%87%E5%8D%97">Kubernetesè¿è¡Œè¿›ç¨‹çš„å®Œæ•´æ“ä½œæŒ‡å—</a></li>
<li><a href="#9-pod%E5%AE%B9%E5%99%A8%E6%95%B0%E9%87%8F%E7%9A%84%E6%8E%A7%E5%88%B6%E6%9C%BA%E5%88%B6">Podå®¹å™¨æ•°é‡çš„æ§åˆ¶æœºåˆ¶</a></li>
<li><a href="#10-%E5%AE%9E%E8%B7%B5%E6%80%BB%E7%BB%93%E4%B8%8E%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5">å®è·µæ€»ç»“ä¸æœ€ä½³å®è·µ</a></li>
</ol>
<hr>
<h2 id="1-åˆè¯†Kubernetesï¼šè§£å†³è®¤çŸ¥å›°æƒ‘"><a href="#1-åˆè¯†Kubernetesï¼šè§£å†³è®¤çŸ¥å›°æƒ‘" class="headerlink" title="1. åˆè¯†Kubernetesï¼šè§£å†³è®¤çŸ¥å›°æƒ‘"></a>1. åˆè¯†Kubernetesï¼šè§£å†³è®¤çŸ¥å›°æƒ‘</h2><h3 id="1-1-é—®é¢˜çš„èµ·æº"><a href="#1-1-é—®é¢˜çš„èµ·æº" class="headerlink" title="1.1 é—®é¢˜çš„èµ·æº"></a>1.1 é—®é¢˜çš„èµ·æº</h3><p>ä½œä¸ºä¸€ä¸ªæ¥è§¦Kubernetesçš„æ–°æ‰‹ï¼Œæœ€å¤§çš„å›°æƒ‘æ¥è‡ªäºï¼š</p>
<ul>
<li><strong>ä¾µå…¥æ€§å¤ªå¼º</strong>ï¼šK8sä¼¼ä¹è¦æ”¹å˜æ•´ä¸ªåº”ç”¨çš„æ¶æ„</li>
<li><strong>æ¦‚å¿µæŠ½è±¡</strong>ï¼šPodã€Serviceã€Deploymentç­‰æ¦‚å¿µéš¾ä»¥ç†è§£</li>
<li><strong>é»‘ç®±æ“ä½œ</strong>ï¼šä¸çŸ¥é“Podæ˜¯å¦‚ä½•åˆ›å»ºå’Œè¿è¡Œçš„</li>
</ul>
<h3 id="1-2-è®¤çŸ¥è½¬å˜çš„å…³é”®"><a href="#1-2-è®¤çŸ¥è½¬å˜çš„å…³é”®" class="headerlink" title="1.2 è®¤çŸ¥è½¬å˜çš„å…³é”®"></a>1.2 è®¤çŸ¥è½¬å˜çš„å…³é”®</h3><p><strong>æ ¸å¿ƒç†è§£</strong>ï¼šKubernetesä¸æ˜¯åº”ç”¨æ¡†æ¶ï¼Œè€Œæ˜¯åŸºç¡€è®¾æ–½æŠ½è±¡å±‚ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ä¼ ç»Ÿæ–¹å¼: åº”ç”¨ â†’ ç‰©ç†æœº/è™šæ‹Ÿæœº</span><br><span class="line">K8sæ–¹å¼:  åº”ç”¨ â†’ K8sæŠ½è±¡å±‚ â†’ ç‰©ç†æœº/è™šæ‹Ÿæœº</span><br></pre></td></tr></table></figure>

<h3 id="1-3-æ¨¡å—åŒ–è§†è§’ä¸‹çš„K8s"><a href="#1-3-æ¨¡å—åŒ–è§†è§’ä¸‹çš„K8s" class="headerlink" title="1.3 æ¨¡å—åŒ–è§†è§’ä¸‹çš„K8s"></a>1.3 æ¨¡å—åŒ–è§†è§’ä¸‹çš„K8s</h3><p>Kubernetesæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæ¨¡å—åŒ–çš„åˆ†å¸ƒå¼ç³»ç»Ÿï¼š</p>
<p><strong>æ§åˆ¶å¹³é¢æ¨¡å—</strong>ï¼š</p>
<ul>
<li><code>kube-apiserver</code>: APIç½‘å…³</li>
<li><code>etcd</code>: åˆ†å¸ƒå¼é…ç½®å­˜å‚¨</li>
<li><code>kube-scheduler</code>: èµ„æºè°ƒåº¦å™¨</li>
<li><code>kube-controller-manager</code>: çŠ¶æ€æ§åˆ¶å™¨</li>
</ul>
<p><strong>å·¥ä½œèŠ‚ç‚¹æ¨¡å—</strong>ï¼š</p>
<ul>
<li><code>kubelet</code>: èŠ‚ç‚¹ä»£ç†</li>
<li><code>kube-proxy</code>: ç½‘ç»œä»£ç†</li>
<li><code>å®¹å™¨è¿è¡Œæ—¶</code>: Docker&#x2F;containerd</li>
</ul>
<hr>
<h2 id="2-Kubernetesçš„æœ¬è´¨å®šä½"><a href="#2-Kubernetesçš„æœ¬è´¨å®šä½" class="headerlink" title="2. Kubernetesçš„æœ¬è´¨å®šä½"></a>2. Kubernetesçš„æœ¬è´¨å®šä½</h2><h3 id="2-1-é‡æ–°å®šä½Kubernetes"><a href="#2-1-é‡æ–°å®šä½Kubernetes" class="headerlink" title="2.1 é‡æ–°å®šä½Kubernetes"></a>2.1 é‡æ–°å®šä½Kubernetes</h3><p><strong>K8sä¸æ˜¯ä»€ä¹ˆ</strong>ï¼š</p>
<ul>
<li>âŒ ä¸æ˜¯åº”ç”¨å¼€å‘æ¡†æ¶</li>
<li>âŒ ä¸æ˜¯ç¼–ç¨‹è¯­è¨€</li>
<li>âŒ ä¸æ˜¯æ•°æ®åº“æˆ–ä¸­é—´ä»¶</li>
</ul>
<p><strong>K8sæ˜¯ä»€ä¹ˆ</strong>ï¼š</p>
<ul>
<li>âœ… åˆ†å¸ƒå¼ç³»ç»Ÿçš„æ“ä½œç³»ç»Ÿ</li>
<li>âœ… èµ„æºç®¡ç†å’Œè°ƒåº¦å¹³å°</li>
<li>âœ… åº”ç”¨ç”Ÿå‘½å‘¨æœŸç®¡ç†å·¥å…·</li>
</ul>
<h3 id="2-2-æŠ½è±¡å±‚æ¬¡çš„ç†è§£"><a href="#2-2-æŠ½è±¡å±‚æ¬¡çš„ç†è§£" class="headerlink" title="2.2 æŠ½è±¡å±‚æ¬¡çš„ç†è§£"></a>2.2 æŠ½è±¡å±‚æ¬¡çš„ç†è§£</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">åº”ç”¨å±‚ (ä½ çš„Raft KVæœåŠ¡)</span><br><span class="line">    â†“</span><br><span class="line">å®¹å™¨å±‚ (Dockerå®¹å™¨)</span><br><span class="line">    â†“</span><br><span class="line">K8sç¼–æ’å±‚ (Pod, Service, Deployment)</span><br><span class="line">    â†“</span><br><span class="line">åŸºç¡€è®¾æ–½å±‚ (ç‰©ç†æœº/äº‘æœåŠ¡å™¨)</span><br></pre></td></tr></table></figure>

<h3 id="2-3-æ¸è¿›å¼ç†è§£ç­–ç•¥"><a href="#2-3-æ¸è¿›å¼ç†è§£ç­–ç•¥" class="headerlink" title="2.3 æ¸è¿›å¼ç†è§£ç­–ç•¥"></a>2.3 æ¸è¿›å¼ç†è§£ç­–ç•¥</h3><p><strong>ç¬¬ä¸€é˜¶æ®µï¼šå®¹å™¨åŒ–ï¼ˆæœ€å°ä¾µå…¥ï¼‰</strong></p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> ubuntu:<span class="number">20.04</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> your-app /app/</span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> [<span class="string">&quot;/app/your-app&quot;</span>]</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¬¬äºŒé˜¶æ®µï¼šå•Podè¿è¡Œ</strong></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">my-app</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">app</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">my-app:latest</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¬¬ä¸‰é˜¶æ®µï¼šé€æ­¥æ·»åŠ K8sç‰¹æ€§</strong></p>
<ul>
<li>éœ€è¦å¤šå‰¯æœ¬ï¼Ÿæ·»åŠ Deployment</li>
<li>éœ€è¦æœåŠ¡å‘ç°ï¼Ÿæ·»åŠ Service</li>
<li>éœ€è¦é…ç½®ç®¡ç†ï¼Ÿæ·»åŠ ConfigMap</li>
</ul>
<hr>
<h2 id="3-Podï¼šæœ€å°éƒ¨ç½²å•å…ƒçš„æ·±åº¦ç†è§£"><a href="#3-Podï¼šæœ€å°éƒ¨ç½²å•å…ƒçš„æ·±åº¦ç†è§£" class="headerlink" title="3. Podï¼šæœ€å°éƒ¨ç½²å•å…ƒçš„æ·±åº¦ç†è§£"></a>3. Podï¼šæœ€å°éƒ¨ç½²å•å…ƒçš„æ·±åº¦ç†è§£</h2><h3 id="3-1-Podçš„å‡†ç¡®å®šä¹‰"><a href="#3-1-Podçš„å‡†ç¡®å®šä¹‰" class="headerlink" title="3.1 Podçš„å‡†ç¡®å®šä¹‰"></a>3.1 Podçš„å‡†ç¡®å®šä¹‰</h3><p><strong>é‡è¦æ¦‚å¿µ</strong>ï¼šPodä¸æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œè€Œæ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨çš„é›†åˆï¼</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹Podå†…çš„å®¹å™¨</span></span><br><span class="line">kubectl describe pod my-pod</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¾“å‡ºç¤ºä¾‹ï¼š</span></span><br><span class="line">Containers:</span><br><span class="line">  main-app:          <span class="comment"># ä¸»åº”ç”¨å®¹å™¨</span></span><br><span class="line">    Image: my-app:v1.0</span><br><span class="line">  sidecar-proxy:     <span class="comment"># è¾¹è½¦å®¹å™¨</span></span><br><span class="line">    Image: nginx:1.20</span><br><span class="line">  log-collector:     <span class="comment"># æ—¥å¿—æ”¶é›†å®¹å™¨</span></span><br><span class="line">    Image: fluentd:v1.14</span><br></pre></td></tr></table></figure>

<h3 id="3-2-Podåœ¨æ“ä½œç³»ç»Ÿä¸­çš„å®é™…å½¢æ€"><a href="#3-2-Podåœ¨æ“ä½œç³»ç»Ÿä¸­çš„å®é™…å½¢æ€" class="headerlink" title="3.2 Podåœ¨æ“ä½œç³»ç»Ÿä¸­çš„å®é™…å½¢æ€"></a>3.2 Podåœ¨æ“ä½œç³»ç»Ÿä¸­çš„å®é™…å½¢æ€</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">æ“ä½œç³»ç»Ÿ (Linux/Windows)</span><br><span class="line">â”œâ”€â”€ Docker/containerd (å®¹å™¨è¿è¡Œæ—¶)</span><br><span class="line">â”‚   â”œâ”€â”€ Podç½‘ç»œå‘½åç©ºé—´ (å…±äº«ç½‘ç»œ)</span><br><span class="line">â”‚   â”‚   â”œâ”€â”€ å®¹å™¨1: my-app</span><br><span class="line">â”‚   â”‚   â”œâ”€â”€ å®¹å™¨2: nginx-proxy  </span><br><span class="line">â”‚   â”‚   â””â”€â”€ å®¹å™¨3: log-collector</span><br><span class="line">â”‚   â”œâ”€â”€ å…±äº«å­˜å‚¨å·</span><br><span class="line">â”‚   â””â”€â”€ å…±äº«è¿›ç¨‹å‘½åç©ºé—´(å¯é€‰)</span><br><span class="line">â””â”€â”€ kubelet (K8sèŠ‚ç‚¹ä»£ç†)</span><br></pre></td></tr></table></figure>

<h3 id="3-3-â€œæœ€å°éƒ¨ç½²å•å…ƒâ€çš„å‡†ç¡®å«ä¹‰"><a href="#3-3-â€œæœ€å°éƒ¨ç½²å•å…ƒâ€çš„å‡†ç¡®å«ä¹‰" class="headerlink" title="3.3 â€œæœ€å°éƒ¨ç½²å•å…ƒâ€çš„å‡†ç¡®å«ä¹‰"></a>3.3 â€œæœ€å°éƒ¨ç½²å•å…ƒâ€çš„å‡†ç¡®å«ä¹‰</h3><p><strong>å…³é”®ç†è§£</strong>ï¼š</p>
<ul>
<li>âœ… Podæ˜¯K8sä¸­æœ€å°çš„<strong>å¯éƒ¨ç½²</strong>å’Œ<strong>å¯ç®¡ç†</strong>çš„å•å…ƒ</li>
<li>âœ… ä½ ä¸èƒ½ç›´æ¥éƒ¨ç½²å•ä¸ªå®¹å™¨åˆ°K8sï¼Œå¿…é¡»é€šè¿‡Pod</li>
<li>âœ… K8sçš„æ‰€æœ‰æ“ä½œï¼ˆè°ƒåº¦ã€æ‰©ç¼©å®¹ã€é‡å¯ç­‰ï¼‰éƒ½æ˜¯ä»¥Podä¸ºå•ä½</li>
<li>âŒ Podä¸æ˜¯æœ€å°çš„<strong>è¿è¡Œ</strong>å•å…ƒï¼ˆå®¹å™¨æ‰æ˜¯ï¼‰</li>
</ul>
<h3 id="3-4-å®é™…éªŒè¯Podçš„å®¹å™¨ç»„æˆ"><a href="#3-4-å®é™…éªŒè¯Podçš„å®¹å™¨ç»„æˆ" class="headerlink" title="3.4 å®é™…éªŒè¯Podçš„å®¹å™¨ç»„æˆ"></a>3.4 å®é™…éªŒè¯Podçš„å®¹å™¨ç»„æˆ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åœ¨è¿è¡Œçš„ç³»ç»Ÿä¸ŠæŸ¥çœ‹</span></span><br><span class="line">docker ps | grep k8s</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¾“å‡ºç¤ºä¾‹ï¼ˆä¸€ä¸ªPodå¯¹åº”å¤šä¸ªå®¹å™¨ï¼‰ï¼š</span></span><br><span class="line">CONTAINER ID   IMAGE                    NAMES</span><br><span class="line">1a2b3c4d5e6f   my-app:v1.0             k8s_main-app_my-pod_default_uuid</span><br><span class="line">2b3c4d5e6f7g   nginx:1.20              k8s_proxy_my-pod_default_uuid</span><br><span class="line">3c4d5e6f7g8h   pause:3.6               k8s_POD_my-pod_default_uuid</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„</strong>ï¼š<code>pause</code>å®¹å™¨æ˜¯Podçš„åŸºç¡€è®¾æ–½å®¹å™¨ï¼Œè´Ÿè´£ç»´æŠ¤ç½‘ç»œå’Œå­˜å‚¨å‘½åç©ºé—´ã€‚</p>
<hr>
<h2 id="4-Kubernetesåœ¨æ“ä½œç³»ç»Ÿä¸­çš„å®é™…éƒ¨ç½²"><a href="#4-Kubernetesåœ¨æ“ä½œç³»ç»Ÿä¸­çš„å®é™…éƒ¨ç½²" class="headerlink" title="4. Kubernetesåœ¨æ“ä½œç³»ç»Ÿä¸­çš„å®é™…éƒ¨ç½²"></a>4. Kubernetesåœ¨æ“ä½œç³»ç»Ÿä¸­çš„å®é™…éƒ¨ç½²</h2><h3 id="4-1-å•æœºéƒ¨ç½²ï¼šAll-in-Oneæ¨¡å¼"><a href="#4-1-å•æœºéƒ¨ç½²ï¼šAll-in-Oneæ¨¡å¼" class="headerlink" title="4.1 å•æœºéƒ¨ç½²ï¼šAll-in-Oneæ¨¡å¼"></a>4.1 å•æœºéƒ¨ç½²ï¼šAll-in-Oneæ¨¡å¼</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">ä¸€å°ç‰©ç†æœº/è™šæ‹Ÿæœº</span><br><span class="line">â”œâ”€â”€ æ§åˆ¶å¹³é¢ç»„ä»¶ (Master Components)</span><br><span class="line">â”‚   â”œâ”€â”€ kube-apiserver     (ç«¯å£: 6443)</span><br><span class="line">â”‚   â”œâ”€â”€ etcd              (ç«¯å£: 2379, 2380)</span><br><span class="line">â”‚   â”œâ”€â”€ kube-scheduler    (è°ƒåº¦å™¨)</span><br><span class="line">â”‚   â””â”€â”€ kube-controller-manager (æ§åˆ¶å™¨)</span><br><span class="line">â”œâ”€â”€ å·¥ä½œèŠ‚ç‚¹ç»„ä»¶ (Worker Components)</span><br><span class="line">â”‚   â”œâ”€â”€ kubelet           (èŠ‚ç‚¹ä»£ç†)</span><br><span class="line">â”‚   â”œâ”€â”€ kube-proxy        (ç½‘ç»œä»£ç†)</span><br><span class="line">â”‚   â””â”€â”€ å®¹å™¨è¿è¡Œæ—¶ (Docker/containerd)</span><br><span class="line">â””â”€â”€ ç½‘ç»œæ’ä»¶ (CNI)</span><br><span class="line">    â”œâ”€â”€ flannel/calico/weave</span><br><span class="line">    â””â”€â”€ è™šæ‹Ÿç½‘æ¡¥å’Œè·¯ç”±</span><br></pre></td></tr></table></figure>

<h3 id="4-2-å®é™…è¿›ç¨‹éªŒè¯"><a href="#4-2-å®é™…è¿›ç¨‹éªŒè¯" class="headerlink" title="4.2 å®é™…è¿›ç¨‹éªŒè¯"></a>4.2 å®é™…è¿›ç¨‹éªŒè¯</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åœ¨K8sèŠ‚ç‚¹ä¸ŠæŸ¥çœ‹è¿è¡Œçš„è¿›ç¨‹</span></span><br><span class="line">ps aux | grep kube</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¾“å‡ºç¤ºä¾‹ï¼š</span></span><br><span class="line">root  1234  kube-apiserver --advertise-address=192.168.1.100</span><br><span class="line">root  1235  etcd --data-dir=/var/lib/etcd</span><br><span class="line">root  1236  kube-scheduler --kubeconfig=/etc/kubernetes/scheduler.conf</span><br><span class="line">root  1237  kube-controller-manager --kubeconfig=/etc/kubernetes/controller-manager.conf</span><br><span class="line">root  1238  kubelet --config=/var/lib/kubelet/config.yaml</span><br><span class="line">root  1239  kube-proxy --config=/var/lib/kube-proxy/config.conf</span><br></pre></td></tr></table></figure>

<h3 id="4-3-éƒ¨ç½²æ–¹å¼è¯¦è§£"><a href="#4-3-éƒ¨ç½²æ–¹å¼è¯¦è§£" class="headerlink" title="4.3 éƒ¨ç½²æ–¹å¼è¯¦è§£"></a>4.3 éƒ¨ç½²æ–¹å¼è¯¦è§£</h3><h4 id="æœ¬åœ°å¼€å‘ç¯å¢ƒ"><a href="#æœ¬åœ°å¼€å‘ç¯å¢ƒ" class="headerlink" title="æœ¬åœ°å¼€å‘ç¯å¢ƒ"></a>æœ¬åœ°å¼€å‘ç¯å¢ƒ</h4><p><strong>Minikubeï¼ˆæœ€ç®€å•ï¼‰</strong>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…å¹¶å¯åŠ¨</span></span><br><span class="line">minikube start</span><br><span class="line">kubectl cluster-info</span><br></pre></td></tr></table></figure>

<p><strong>Kindï¼ˆKubernetes in Dockerï¼‰</strong>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºé›†ç¾¤</span></span><br><span class="line">kind create cluster --name my-cluster</span><br><span class="line"></span><br><span class="line"><span class="comment"># Kindåœ¨Dockerå®¹å™¨ä¸­è¿è¡ŒK8sèŠ‚ç‚¹</span></span><br><span class="line">docker ps</span><br><span class="line"><span class="comment"># è¾“å‡ºï¼š</span></span><br><span class="line">CONTAINER ID   IMAGE                  NAMES</span><br><span class="line">1a2b3c4d5e6f   kindest/node:v1.27.3   my-cluster-control-plane</span><br></pre></td></tr></table></figure>

<h4 id="ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²"><a href="#ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²" class="headerlink" title="ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²"></a>ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²</h4><p><strong>kubeadmï¼ˆå®˜æ–¹å·¥å…·ï¼‰</strong>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># MasterèŠ‚ç‚¹åˆå§‹åŒ–</span></span><br><span class="line"><span class="built_in">sudo</span> kubeadm init --pod-network-cidr=10.244.0.0/16</span><br><span class="line"></span><br><span class="line"><span class="comment"># WorkerèŠ‚ç‚¹åŠ å…¥</span></span><br><span class="line"><span class="built_in">sudo</span> kubeadm <span class="built_in">join</span> 192.168.1.100:6443 --token &lt;token&gt; --discovery-token-ca-cert-hash &lt;<span class="built_in">hash</span>&gt;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="5-Podè°ƒåº¦åˆ°ç‰©ç†èŠ‚ç‚¹çš„å®Œæ•´æœºåˆ¶"><a href="#5-Podè°ƒåº¦åˆ°ç‰©ç†èŠ‚ç‚¹çš„å®Œæ•´æœºåˆ¶" class="headerlink" title="5. Podè°ƒåº¦åˆ°ç‰©ç†èŠ‚ç‚¹çš„å®Œæ•´æœºåˆ¶"></a>5. Podè°ƒåº¦åˆ°ç‰©ç†èŠ‚ç‚¹çš„å®Œæ•´æœºåˆ¶</h2><h3 id="5-1-Kubernetesé›†ç¾¤çš„ç‰©ç†æ¶æ„"><a href="#5-1-Kubernetesé›†ç¾¤çš„ç‰©ç†æ¶æ„" class="headerlink" title="5.1 Kubernetesé›†ç¾¤çš„ç‰©ç†æ¶æ„"></a>5.1 Kubernetesé›†ç¾¤çš„ç‰©ç†æ¶æ„</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Kubernetesé›†ç¾¤</span><br><span class="line">â”œâ”€â”€ æ§åˆ¶å¹³é¢èŠ‚ç‚¹ (Master Nodes)</span><br><span class="line">â”‚   â”œâ”€â”€ kube-apiserver</span><br><span class="line">â”‚   â”œâ”€â”€ etcd</span><br><span class="line">â”‚   â”œâ”€â”€ kube-scheduler  â† è´Ÿè´£Podè°ƒåº¦</span><br><span class="line">â”‚   â””â”€â”€ kube-controller-manager</span><br><span class="line">â””â”€â”€ å·¥ä½œèŠ‚ç‚¹ (Worker Nodes)</span><br><span class="line">    â”œâ”€â”€ ç‰©ç†æœº1 (kubelet + å®¹å™¨è¿è¡Œæ—¶)</span><br><span class="line">    â”œâ”€â”€ ç‰©ç†æœº2 (kubelet + å®¹å™¨è¿è¡Œæ—¶)</span><br><span class="line">    â”œâ”€â”€ è™šæ‹Ÿæœº1 (kubelet + å®¹å™¨è¿è¡Œæ—¶)</span><br><span class="line">    â””â”€â”€ è™šæ‹Ÿæœº2 (kubelet + å®¹å™¨è¿è¡Œæ—¶)</span><br></pre></td></tr></table></figure>

<h3 id="5-2-Podè°ƒåº¦çš„å®Œæ•´æµç¨‹"><a href="#5-2-Podè°ƒåº¦çš„å®Œæ•´æµç¨‹" class="headerlink" title="5.2 Podè°ƒåº¦çš„å®Œæ•´æµç¨‹"></a>5.2 Podè°ƒåº¦çš„å®Œæ•´æµç¨‹</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">ç”¨æˆ·åˆ›å»ºPod</span><br><span class="line">    â†“</span><br><span class="line">API Serveræ¥æ”¶è¯·æ±‚</span><br><span class="line">    â†“</span><br><span class="line">Scheduleråˆ†æèµ„æºéœ€æ±‚</span><br><span class="line">    â†“</span><br><span class="line">ç­›é€‰å¯ç”¨èŠ‚ç‚¹</span><br><span class="line">    â†“</span><br><span class="line">è¯„åˆ†æ’åº</span><br><span class="line">    â†“</span><br><span class="line">é€‰æ‹©æœ€ä½³èŠ‚ç‚¹</span><br><span class="line">    â†“</span><br><span class="line">kubeletåœ¨ç›®æ ‡èŠ‚ç‚¹åˆ›å»ºå®¹å™¨</span><br></pre></td></tr></table></figure>

<h3 id="5-3-å®é™…è°ƒåº¦ç¤ºä¾‹"><a href="#5-3-å®é™…è°ƒåº¦ç¤ºä¾‹" class="headerlink" title="5.3 å®é™…è°ƒåº¦ç¤ºä¾‹"></a>5.3 å®é™…è°ƒåº¦ç¤ºä¾‹</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºPodåæŸ¥çœ‹è°ƒåº¦ç»“æœ</span></span><br><span class="line">kubectl get pods -o wide</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¾“å‡ºç¤ºä¾‹ï¼š</span></span><br><span class="line">NAME          READY   STATUS    RESTARTS   AGE   IP           NODE</span><br><span class="line">my-raft-pod   1/1     Running   0          30s   10.244.2.15  worker-node-2</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°Podè¢«è°ƒåº¦åˆ°äº†<code>worker-node-2</code>è¿™å°å®é™…çš„æœºå™¨ä¸Šï¼</p>
<h3 id="5-4-èŠ‚ç‚¹èµ„æºç®¡ç†"><a href="#5-4-èŠ‚ç‚¹èµ„æºç®¡ç†" class="headerlink" title="5.4 èŠ‚ç‚¹èµ„æºç®¡ç†"></a>5.4 èŠ‚ç‚¹èµ„æºç®¡ç†</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹èŠ‚ç‚¹è¯¦ç»†ä¿¡æ¯</span></span><br><span class="line">kubectl describe node worker-node-2</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¾“å‡ºç¤ºä¾‹ï¼š</span></span><br><span class="line">Addresses:</span><br><span class="line">  InternalIP:  192.168.1.102  â† å®é™…ç‰©ç†æœºIP</span><br><span class="line">Capacity:</span><br><span class="line">  cpu:                4      â† 4æ ¸CPU</span><br><span class="line">  memory:             8Gi    â† 8GBå†…å­˜</span><br><span class="line">Allocated resources:</span><br><span class="line">  cpu                1500m (39%) </span><br><span class="line">  memory             3Gi (40%)</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="6-Podåˆ›å»ºå’Œç®¡ç†çš„é»‘ç®±æ­ç§˜"><a href="#6-Podåˆ›å»ºå’Œç®¡ç†çš„é»‘ç®±æ­ç§˜" class="headerlink" title="6. Podåˆ›å»ºå’Œç®¡ç†çš„é»‘ç®±æ­ç§˜"></a>6. Podåˆ›å»ºå’Œç®¡ç†çš„é»‘ç®±æ­ç§˜</h2><h3 id="6-1-Podåˆ›å»ºçš„å‡ ç§æ–¹å¼"><a href="#6-1-Podåˆ›å»ºçš„å‡ ç§æ–¹å¼" class="headerlink" title="6.1 Podåˆ›å»ºçš„å‡ ç§æ–¹å¼"></a>6.1 Podåˆ›å»ºçš„å‡ ç§æ–¹å¼</h3><h4 id="å‘½ä»¤è¡Œåˆ›å»º"><a href="#å‘½ä»¤è¡Œåˆ›å»º" class="headerlink" title="å‘½ä»¤è¡Œåˆ›å»º"></a>å‘½ä»¤è¡Œåˆ›å»º</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç›´æ¥åˆ›å»ºPod</span></span><br><span class="line">kubectl run my-pod --image=nginx --restart=Never</span><br><span class="line"></span><br><span class="line"><span class="comment"># é€šè¿‡YAMLæ–‡ä»¶åˆ›å»º</span></span><br><span class="line">kubectl apply -f pod.yaml</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºJob</span></span><br><span class="line">kubectl create job my-job --image=busybox -- <span class="built_in">echo</span> <span class="string">&quot;Hello World&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="ç¨‹åºåŒ–åˆ›å»ºï¼ˆåº”ç”¨å†…éƒ¨åˆ›å»ºPodï¼‰"><a href="#ç¨‹åºåŒ–åˆ›å»ºï¼ˆåº”ç”¨å†…éƒ¨åˆ›å»ºPodï¼‰" class="headerlink" title="ç¨‹åºåŒ–åˆ›å»ºï¼ˆåº”ç”¨å†…éƒ¨åˆ›å»ºPodï¼‰"></a>ç¨‹åºåŒ–åˆ›å»ºï¼ˆåº”ç”¨å†…éƒ¨åˆ›å»ºPodï¼‰</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Python K8så®¢æˆ·ç«¯</span></span><br><span class="line"><span class="keyword">from</span> kubernetes <span class="keyword">import</span> client, config</span><br><span class="line"></span><br><span class="line">config.load_incluster_config()</span><br><span class="line">v1 = client.CoreV1Api()</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºPod</span></span><br><span class="line">response = v1.create_namespaced_pod(</span><br><span class="line">    namespace=<span class="string">&quot;default&quot;</span>,</span><br><span class="line">    body=pod_manifest</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;Pod created: <span class="subst">&#123;response.metadata.name&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="6-2-å¦‚ä½•â€æ‹¿åˆ°â€Podï¼šè·å–Podä¿¡æ¯çš„æ–¹æ³•"><a href="#6-2-å¦‚ä½•â€æ‹¿åˆ°â€Podï¼šè·å–Podä¿¡æ¯çš„æ–¹æ³•" class="headerlink" title="6.2 å¦‚ä½•â€æ‹¿åˆ°â€Podï¼šè·å–Podä¿¡æ¯çš„æ–¹æ³•"></a>6.2 å¦‚ä½•â€æ‹¿åˆ°â€Podï¼šè·å–Podä¿¡æ¯çš„æ–¹æ³•</h3><h4 id="é€šè¿‡åç§°ç›´æ¥è·å–"><a href="#é€šè¿‡åç§°ç›´æ¥è·å–" class="headerlink" title="é€šè¿‡åç§°ç›´æ¥è·å–"></a>é€šè¿‡åç§°ç›´æ¥è·å–</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è·å–ç‰¹å®šPod</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    pod = v1.read_namespaced_pod(</span><br><span class="line">        name=<span class="string">&quot;my-dynamic-pod&quot;</span>,</span><br><span class="line">        namespace=<span class="string">&quot;default&quot;</span></span><br><span class="line">    )</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;PodçŠ¶æ€: <span class="subst">&#123;pod.status.phase&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;Pod IP: <span class="subst">&#123;pod.status.pod_ip&#125;</span>&quot;</span>)</span><br><span class="line"><span class="keyword">except</span> client.exceptions.ApiException <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;Podä¸å­˜åœ¨: <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="é€šè¿‡æ ‡ç­¾é€‰æ‹©å™¨è·å–"><a href="#é€šè¿‡æ ‡ç­¾é€‰æ‹©å™¨è·å–" class="headerlink" title="é€šè¿‡æ ‡ç­¾é€‰æ‹©å™¨è·å–"></a>é€šè¿‡æ ‡ç­¾é€‰æ‹©å™¨è·å–</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è·å–å¸¦æœ‰ç‰¹å®šæ ‡ç­¾çš„æ‰€æœ‰Pod</span></span><br><span class="line">pods = v1.list_namespaced_pod(</span><br><span class="line">    namespace=<span class="string">&quot;default&quot;</span>,</span><br><span class="line">    label_selector=<span class="string">&quot;app=my-app,job-type=backup&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> pod <span class="keyword">in</span> pods.items:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;æ‰¾åˆ°Pod: <span class="subst">&#123;pod.metadata.name&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;çŠ¶æ€: <span class="subst">&#123;pod.status.phase&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="6-3-ä»¥Raft-KVé¡¹ç›®ä¸ºä¾‹çš„å®Œæ•´æµç¨‹"><a href="#6-3-ä»¥Raft-KVé¡¹ç›®ä¸ºä¾‹çš„å®Œæ•´æµç¨‹" class="headerlink" title="6.3 ä»¥Raft KVé¡¹ç›®ä¸ºä¾‹çš„å®Œæ•´æµç¨‹"></a>6.3 ä»¥Raft KVé¡¹ç›®ä¸ºä¾‹çš„å®Œæ•´æµç¨‹</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨KvServerä¸­åˆ›å»ºå¤‡ä»½ä»»åŠ¡</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">KvServer</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">scheduleBackup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        std::string jobName = <span class="string">&quot;raft-backup-&quot;</span> + std::<span class="built_in">to_string</span>(m_me) + <span class="string">&quot;-&quot;</span> + <span class="built_in">getCurrentTimestamp</span>();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// åˆ›å»ºJobçš„YAMLé…ç½®</span></span><br><span class="line">        std::string jobYaml = <span class="built_in">createBackupJobYaml</span>(jobName, m_me);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æäº¤åˆ°K8s</span></span><br><span class="line">        std::string jobId = <span class="built_in">submitJobToKubernetes</span>(jobYaml);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// ä¿å­˜Jobä¿¡æ¯ï¼Œç”¨äºåç»­è·Ÿè¸ª</span></span><br><span class="line">        m_activeJobs[jobId] = &#123;</span><br><span class="line">            .name = jobName,</span><br><span class="line">            .type = <span class="string">&quot;backup&quot;</span>,</span><br><span class="line">            .startTime = std::<span class="built_in">time</span>(<span class="literal">nullptr</span>)</span><br><span class="line">        &#125;;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// å¯åŠ¨ç›‘æ§çº¿ç¨‹</span></span><br><span class="line">        <span class="function">std::thread <span class="title">monitorThread</span><span class="params">(&amp;KvServer::monitorJob, <span class="keyword">this</span>, jobId)</span></span>;</span><br><span class="line">        monitorThread.<span class="built_in">detach</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="7-åº”ç”¨å†…éƒ¨åˆ›å»ºPodçš„â€å¥—å¨ƒâ€ç°è±¡"><a href="#7-åº”ç”¨å†…éƒ¨åˆ›å»ºPodçš„â€å¥—å¨ƒâ€ç°è±¡" class="headerlink" title="7. åº”ç”¨å†…éƒ¨åˆ›å»ºPodçš„â€å¥—å¨ƒâ€ç°è±¡"></a>7. åº”ç”¨å†…éƒ¨åˆ›å»ºPodçš„â€å¥—å¨ƒâ€ç°è±¡</h2><h3 id="7-1-å…¸å‹åœºæ™¯åˆ†æ"><a href="#7-1-å…¸å‹åœºæ™¯åˆ†æ" class="headerlink" title="7.1 å…¸å‹åœºæ™¯åˆ†æ"></a>7.1 å…¸å‹åœºæ™¯åˆ†æ</h3><h4 id="CI-CDå¹³å°ï¼ˆå¦‚Jenkinsã€GitLab-CIï¼‰"><a href="#CI-CDå¹³å°ï¼ˆå¦‚Jenkinsã€GitLab-CIï¼‰" class="headerlink" title="CI&#x2F;CDå¹³å°ï¼ˆå¦‚Jenkinsã€GitLab CIï¼‰"></a>CI&#x2F;CDå¹³å°ï¼ˆå¦‚Jenkinsã€GitLab CIï¼‰</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Jenkins Masterè¿è¡Œåœ¨K8sä¸­</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">jenkins-master</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">jenkins</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">jenkins/jenkins:lts</span></span><br></pre></td></tr></table></figure>

<p>å½“æœ‰æ„å»ºä»»åŠ¡æ—¶ï¼ŒJenkinsä¼šåŠ¨æ€åˆ›å»ºPodæ¥æ‰§è¡Œå…·ä½“çš„æ„å»ºå·¥ä½œï¼š</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># JenkinsåŠ¨æ€åˆ›å»ºçš„æ„å»ºPod</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">build-job-12345</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">builder</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">maven:3.8-openjdk-11</span></span><br><span class="line">    <span class="attr">command:</span> [<span class="string">&quot;mvn&quot;</span>, <span class="string">&quot;clean&quot;</span>, <span class="string">&quot;package&quot;</span>]</span><br><span class="line">  <span class="attr">restartPolicy:</span> <span class="string">Never</span></span><br></pre></td></tr></table></figure>

<h3 id="7-2-ä¸ºä»€ä¹ˆè¦è¿™æ ·è®¾è®¡ï¼Ÿ"><a href="#7-2-ä¸ºä»€ä¹ˆè¦è¿™æ ·è®¾è®¡ï¼Ÿ" class="headerlink" title="7.2 ä¸ºä»€ä¹ˆè¦è¿™æ ·è®¾è®¡ï¼Ÿ"></a>7.2 ä¸ºä»€ä¹ˆè¦è¿™æ ·è®¾è®¡ï¼Ÿ</h3><h4 id="èµ„æºéš”ç¦»"><a href="#èµ„æºéš”ç¦»" class="headerlink" title="èµ„æºéš”ç¦»"></a>èµ„æºéš”ç¦»</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ä¸»åº”ç”¨Pod (å¸¸é©»):</span><br><span class="line">- å†…å­˜: 512Mi</span><br><span class="line">- CPU: 0.5 core</span><br><span class="line">- èŒè´£: è°ƒåº¦ã€ç›‘æ§ã€APIæœåŠ¡</span><br><span class="line"></span><br><span class="line">ä»»åŠ¡æ‰§è¡ŒPod (ä¸´æ—¶):</span><br><span class="line">- å†…å­˜: 4Gi</span><br><span class="line">- CPU: 2 cores  </span><br><span class="line">- èŒè´£: æ‰§è¡Œå…·ä½“çš„è®¡ç®—ä»»åŠ¡</span><br></pre></td></tr></table></figure>

<h4 id="æ•…éšœéš”ç¦»"><a href="#æ•…éšœéš”ç¦»" class="headerlink" title="æ•…éšœéš”ç¦»"></a>æ•…éšœéš”ç¦»</h4><ul>
<li>ä¸»åº”ç”¨å´©æºƒ â‰  æ‰€æœ‰ä»»åŠ¡å¤±è´¥</li>
<li>å•ä¸ªä»»åŠ¡å¤±è´¥ â‰  ä¸»åº”ç”¨å—å½±å“</li>
<li>ä»»åŠ¡å¯ä»¥ç‹¬ç«‹é‡è¯•ã€æ‰©ç¼©å®¹</li>
</ul>
<h3 id="7-3-å®é™…çš„è°ƒåº¦ç¤ºä¾‹"><a href="#7-3-å®é™…çš„è°ƒåº¦ç¤ºä¾‹" class="headerlink" title="7.3 å®é™…çš„è°ƒåº¦ç¤ºä¾‹"></a>7.3 å®é™…çš„è°ƒåº¦ç¤ºä¾‹</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºPodåæŸ¥çœ‹è°ƒåº¦ç»“æœ</span></span><br><span class="line">kubectl get pods -o wide</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯èƒ½çš„è¾“å‡ºï¼š</span></span><br><span class="line">NAME                READY   STATUS    NODE</span><br><span class="line">raft-kv-cluster-0   1/1     Running   worker-node-1  <span class="comment"># ç‰©ç†æœº1</span></span><br><span class="line">raft-kv-cluster-1   1/1     Running   worker-node-2  <span class="comment"># ç‰©ç†æœº2</span></span><br><span class="line">raft-kv-cluster-2   1/1     Running   worker-node-3  <span class="comment"># ç‰©ç†æœº3</span></span><br><span class="line">raft-kv-cluster-3   1/1     Running   worker-node-1  <span class="comment"># ç‰©ç†æœº1</span></span><br><span class="line">raft-kv-cluster-4   1/1     Running   worker-node-2  <span class="comment"># ç‰©ç†æœº2</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="8-Kubernetesè¿è¡Œè¿›ç¨‹çš„å®Œæ•´æ“ä½œæŒ‡å—"><a href="#8-Kubernetesè¿è¡Œè¿›ç¨‹çš„å®Œæ•´æ“ä½œæŒ‡å—" class="headerlink" title="8. Kubernetesè¿è¡Œè¿›ç¨‹çš„å®Œæ•´æ“ä½œæŒ‡å—"></a>8. Kubernetesè¿è¡Œè¿›ç¨‹çš„å®Œæ•´æ“ä½œæŒ‡å—</h2><h3 id="8-1-è¿›ç¨‹åˆ›å»ºæ“ä½œ"><a href="#8-1-è¿›ç¨‹åˆ›å»ºæ“ä½œ" class="headerlink" title="8.1 è¿›ç¨‹åˆ›å»ºæ“ä½œ"></a>8.1 è¿›ç¨‹åˆ›å»ºæ“ä½œ</h3><h4 id="ç›´æ¥åˆ›å»ºPod"><a href="#ç›´æ¥åˆ›å»ºPod" class="headerlink" title="ç›´æ¥åˆ›å»ºPod"></a>ç›´æ¥åˆ›å»ºPod</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å‘½ä»¤è¡Œåˆ›å»º</span></span><br><span class="line">kubectl run my-pod --image=nginx --restart=Never</span><br><span class="line"></span><br><span class="line"><span class="comment"># YAMLæ–‡ä»¶åˆ›å»º</span></span><br><span class="line">kubectl apply -f pod.yaml</span><br><span class="line"></span><br><span class="line"><span class="comment"># äº¤äº’å¼åˆ›å»º</span></span><br><span class="line">kubectl run debug-pod --image=busybox -it --<span class="built_in">rm</span> -- /bin/sh</span><br></pre></td></tr></table></figure>

<h4 id="é€šè¿‡å·¥ä½œè´Ÿè½½åˆ›å»º"><a href="#é€šè¿‡å·¥ä½œè´Ÿè½½åˆ›å»º" class="headerlink" title="é€šè¿‡å·¥ä½œè´Ÿè½½åˆ›å»º"></a>é€šè¿‡å·¥ä½œè´Ÿè½½åˆ›å»º</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºDeploymentï¼ˆç®¡ç†å¤šä¸ªPodå‰¯æœ¬ï¼‰</span></span><br><span class="line">kubectl create deployment my-app --image=my-app:v1.0 --replicas=3</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºJobï¼ˆä¸€æ¬¡æ€§ä»»åŠ¡ï¼‰</span></span><br><span class="line">kubectl create job backup-job --image=backup-tool -- /backup.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºCronJobï¼ˆå®šæ—¶ä»»åŠ¡ï¼‰</span></span><br><span class="line">kubectl create cronjob daily-backup --image=backup-tool --schedule=<span class="string">&quot;0 2 * * *&quot;</span> -- /backup.sh</span><br></pre></td></tr></table></figure>

<h3 id="8-2-è¿›ç¨‹æŸ¥è¯¢æ“ä½œ"><a href="#8-2-è¿›ç¨‹æŸ¥è¯¢æ“ä½œ" class="headerlink" title="8.2 è¿›ç¨‹æŸ¥è¯¢æ“ä½œ"></a>8.2 è¿›ç¨‹æŸ¥è¯¢æ“ä½œ</h3><h4 id="åŸºç¡€æŸ¥è¯¢"><a href="#åŸºç¡€æŸ¥è¯¢" class="headerlink" title="åŸºç¡€æŸ¥è¯¢"></a>åŸºç¡€æŸ¥è¯¢</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹æ‰€æœ‰Pod</span></span><br><span class="line">kubectl get pods</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ç‰¹å®šå‘½åç©ºé—´çš„Pod</span></span><br><span class="line">kubectl get pods -n my-namespace</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯¦ç»†ä¿¡æ¯æŸ¥çœ‹</span></span><br><span class="line">kubectl get pods -o wide</span><br><span class="line">kubectl describe pod my-pod</span><br></pre></td></tr></table></figure>

<h4 id="æ ‡ç­¾å’Œé€‰æ‹©å™¨æŸ¥è¯¢"><a href="#æ ‡ç­¾å’Œé€‰æ‹©å™¨æŸ¥è¯¢" class="headerlink" title="æ ‡ç­¾å’Œé€‰æ‹©å™¨æŸ¥è¯¢"></a>æ ‡ç­¾å’Œé€‰æ‹©å™¨æŸ¥è¯¢</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŒ‰æ ‡ç­¾æŸ¥è¯¢</span></span><br><span class="line">kubectl get pods -l app=my-app</span><br><span class="line">kubectl get pods -l <span class="string">&#x27;environment in (prod,staging)&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‰å­—æ®µé€‰æ‹©å™¨æŸ¥è¯¢</span></span><br><span class="line">kubectl get pods --field-selector=status.phase=Running</span><br><span class="line">kubectl get pods --field-selector=spec.nodeName=worker-node-1</span><br></pre></td></tr></table></figure>

<h3 id="8-3-è¿›ç¨‹ç›‘æ§æ“ä½œ"><a href="#8-3-è¿›ç¨‹ç›‘æ§æ“ä½œ" class="headerlink" title="8.3 è¿›ç¨‹ç›‘æ§æ“ä½œ"></a>8.3 è¿›ç¨‹ç›‘æ§æ“ä½œ</h3><h4 id="çŠ¶æ€ç›‘æ§"><a href="#çŠ¶æ€ç›‘æ§" class="headerlink" title="çŠ¶æ€ç›‘æ§"></a>çŠ¶æ€ç›‘æ§</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®æ—¶ç›‘æ§PodçŠ¶æ€å˜åŒ–</span></span><br><span class="line">kubectl get pods -w</span><br><span class="line">kubectl get pods -l app=my-app -w</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹Podäº‹ä»¶</span></span><br><span class="line">kubectl get events --sort-by=.metadata.creationTimestamp</span><br></pre></td></tr></table></figure>

<h4 id="èµ„æºä½¿ç”¨ç›‘æ§"><a href="#èµ„æºä½¿ç”¨ç›‘æ§" class="headerlink" title="èµ„æºä½¿ç”¨ç›‘æ§"></a>èµ„æºä½¿ç”¨ç›‘æ§</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹èµ„æºä½¿ç”¨æƒ…å†µï¼ˆéœ€è¦metrics-serverï¼‰</span></span><br><span class="line">kubectl top pods</span><br><span class="line">kubectl top nodes</span><br></pre></td></tr></table></figure>

<h3 id="8-4-è¿›ç¨‹æ—¥å¿—æ“ä½œ"><a href="#8-4-è¿›ç¨‹æ—¥å¿—æ“ä½œ" class="headerlink" title="8.4 è¿›ç¨‹æ—¥å¿—æ“ä½œ"></a>8.4 è¿›ç¨‹æ—¥å¿—æ“ä½œ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹Podæ—¥å¿—</span></span><br><span class="line">kubectl logs my-pod</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®æ—¶è·Ÿè¸ªæ—¥å¿—</span></span><br><span class="line">kubectl logs -f my-pod</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æœ€è¿‘çš„æ—¥å¿—</span></span><br><span class="line">kubectl logs my-pod --<span class="built_in">tail</span>=100</span><br><span class="line">kubectl logs my-pod --since=1h</span><br></pre></td></tr></table></figure>

<h3 id="8-5-è¿›ç¨‹äº¤äº’æ“ä½œ"><a href="#8-5-è¿›ç¨‹äº¤äº’æ“ä½œ" class="headerlink" title="8.5 è¿›ç¨‹äº¤äº’æ“ä½œ"></a>8.5 è¿›ç¨‹äº¤äº’æ“ä½œ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åœ¨è¿è¡Œçš„Podä¸­æ‰§è¡Œå‘½ä»¤</span></span><br><span class="line">kubectl <span class="built_in">exec</span> my-pod -- <span class="built_in">ls</span> /app</span><br><span class="line"></span><br><span class="line"><span class="comment"># äº¤äº’å¼è¿›å…¥å®¹å™¨</span></span><br><span class="line">kubectl <span class="built_in">exec</span> -it my-pod -- /bin/bash</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç«¯å£è½¬å‘</span></span><br><span class="line">kubectl port-forward my-pod 8080:80</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="9-Podå®¹å™¨æ•°é‡çš„æ§åˆ¶æœºåˆ¶"><a href="#9-Podå®¹å™¨æ•°é‡çš„æ§åˆ¶æœºåˆ¶" class="headerlink" title="9. Podå®¹å™¨æ•°é‡çš„æ§åˆ¶æœºåˆ¶"></a>9. Podå®¹å™¨æ•°é‡çš„æ§åˆ¶æœºåˆ¶</h2><h3 id="9-1-å•å®¹å™¨Podï¼ˆæœ€å¸¸è§ï¼Œ90-çš„åœºæ™¯ï¼‰"><a href="#9-1-å•å®¹å™¨Podï¼ˆæœ€å¸¸è§ï¼Œ90-çš„åœºæ™¯ï¼‰" class="headerlink" title="9.1 å•å®¹å™¨Podï¼ˆæœ€å¸¸è§ï¼Œ90%+çš„åœºæ™¯ï¼‰"></a>9.1 å•å®¹å™¨Podï¼ˆæœ€å¸¸è§ï¼Œ90%+çš„åœºæ™¯ï¼‰</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">simple-web-app</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">web-server</span>    <span class="comment"># åªæœ‰ä¸€ä¸ªå®¹å™¨</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.20</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">80</span></span><br></pre></td></tr></table></figure>

<p><strong>ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>ä¸€ä¸ªPod &#x3D; ä¸€ä¸ªåº”ç”¨å®¹å™¨ + ä¸€ä¸ªpauseå®¹å™¨ï¼ˆåŸºç¡€è®¾æ–½ï¼‰</li>
<li>è¿™æ˜¯æœ€ç®€å•ã€æœ€å¸¸ç”¨çš„æ¨¡å¼</li>
<li>å¤§å¤šæ•°å¾®æœåŠ¡éƒ½é‡‡ç”¨è¿™ç§æ¨¡å¼</li>
</ul>
<h3 id="9-2-å¤šå®¹å™¨Podï¼ˆç‰¹æ®Šåœºæ™¯ï¼Œ"><a href="#9-2-å¤šå®¹å™¨Podï¼ˆç‰¹æ®Šåœºæ™¯ï¼Œ" class="headerlink" title="9.2 å¤šå®¹å™¨Podï¼ˆç‰¹æ®Šåœºæ™¯ï¼Œ&lt;10%ï¼‰"></a>9.2 å¤šå®¹å™¨Podï¼ˆç‰¹æ®Šåœºæ™¯ï¼Œ&lt;10%ï¼‰</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">multi-container-app</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">web-app</span>           <span class="comment"># ä¸»åº”ç”¨å®¹å™¨</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">my-web-app:v1.0</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">8080</span></span><br><span class="line">    <span class="attr">volumeMounts:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">shared-logs</span></span><br><span class="line">      <span class="attr">mountPath:</span> <span class="string">/var/log</span></span><br><span class="line">  </span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">log-collector</span>     <span class="comment"># æ—¥å¿—æ”¶é›†å®¹å™¨</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">fluentd:v1.14</span></span><br><span class="line">    <span class="attr">volumeMounts:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">shared-logs</span></span><br><span class="line">      <span class="attr">mountPath:</span> <span class="string">/var/log</span></span><br><span class="line">  </span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">metrics-exporter</span>  <span class="comment"># ç›‘æ§æŒ‡æ ‡å®¹å™¨</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">prometheus-exporter:v1.0</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">9090</span></span><br><span class="line">  </span><br><span class="line">  <span class="attr">volumes:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">shared-logs</span></span><br><span class="line">    <span class="attr">emptyDir:</span> &#123;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="9-3-å®é™…éªŒè¯å®¹å™¨æ•°é‡"><a href="#9-3-å®é™…éªŒè¯å®¹å™¨æ•°é‡" class="headerlink" title="9.3 å®é™…éªŒè¯å®¹å™¨æ•°é‡"></a>9.3 å®é™…éªŒè¯å®¹å™¨æ•°é‡</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºå•å®¹å™¨Pod</span></span><br><span class="line">kubectl run simple-app --image=nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å®é™…è¿è¡Œçš„å®¹å™¨</span></span><br><span class="line">docker ps | grep simple-app</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¾“å‡ºç¤ºä¾‹ï¼š</span></span><br><span class="line">CONTAINER ID   IMAGE     COMMAND                  NAMES</span><br><span class="line">1a2b3c4d5e6f   nginx     <span class="string">&quot;nginx -g &#x27;daemon ofâ€¦&quot;</span>   k8s_simple-app_simple-app_default_uuid</span><br><span class="line">2b3c4d5e6f7g   pause:3.6 <span class="string">&quot;/pause&quot;</span>                 k8s_POD_simple-app_default_uuid</span><br></pre></td></tr></table></figure>

<p><strong>è§£é‡Š</strong>ï¼š</p>
<ul>
<li><code>k8s_simple-app_...</code> æ˜¯ä½ çš„åº”ç”¨å®¹å™¨</li>
<li><code>k8s_POD_...</code> æ˜¯pauseå®¹å™¨ï¼ˆPodåŸºç¡€è®¾æ–½ï¼‰</li>
<li>æ‰€ä»¥â€ä¸€ä¸ªPodâ€å®é™…ä¸Šæ€»æ˜¯è‡³å°‘æœ‰2ä¸ªå®¹å™¨ï¼</li>
</ul>
<h3 id="9-4-å®¹å™¨æ•°é‡çš„è®¾è®¡å†³ç­–"><a href="#9-4-å®¹å™¨æ•°é‡çš„è®¾è®¡å†³ç­–" class="headerlink" title="9.4 å®¹å™¨æ•°é‡çš„è®¾è®¡å†³ç­–"></a>9.4 å®¹å™¨æ•°é‡çš„è®¾è®¡å†³ç­–</h3><h4 id="ä½•æ—¶ä½¿ç”¨å•å®¹å™¨Pod"><a href="#ä½•æ—¶ä½¿ç”¨å•å®¹å™¨Pod" class="headerlink" title="ä½•æ—¶ä½¿ç”¨å•å®¹å™¨Pod"></a>ä½•æ—¶ä½¿ç”¨å•å®¹å™¨Pod</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å…¸å‹åœºæ™¯ï¼šç‹¬ç«‹çš„å¾®æœåŠ¡</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">user-service</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">user-service:v2.0</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">8080</span></span><br></pre></td></tr></table></figure>

<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>ç‹¬ç«‹çš„å¾®æœåŠ¡</li>
<li>æ— çŠ¶æ€åº”ç”¨</li>
<li>ç®€å•çš„æ‰¹å¤„ç†ä»»åŠ¡</li>
<li>å¤§éƒ¨åˆ†Webåº”ç”¨</li>
</ul>
<h4 id="ä½•æ—¶ä½¿ç”¨å¤šå®¹å™¨Pod"><a href="#ä½•æ—¶ä½¿ç”¨å¤šå®¹å™¨Pod" class="headerlink" title="ä½•æ—¶ä½¿ç”¨å¤šå®¹å™¨Pod"></a>ä½•æ—¶ä½¿ç”¨å¤šå®¹å™¨Pod</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å…¸å‹åœºæ™¯ï¼šWebæœåŠ¡å™¨ + SSLç»ˆæ­¢ä»£ç†</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">web-app</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">my-app:v1.0</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">8080</span></span><br><span class="line">  </span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">ssl-proxy</span>     <span class="comment"># SSLç»ˆæ­¢å’Œåå‘ä»£ç†</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.20</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">443</span></span><br></pre></td></tr></table></figure>

<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>éœ€è¦è¾¹è½¦æ¨¡å¼ï¼ˆSidecar Patternï¼‰</li>
<li>æ—¥å¿—æ”¶é›†å’Œç›‘æ§</li>
<li>ä»£ç†å’Œç½‘å…³</li>
<li>æ•°æ®åŒæ­¥å’Œå¤‡ä»½</li>
</ul>
<h3 id="9-5-ä»¥Raft-KVé¡¹ç›®ä¸ºä¾‹"><a href="#9-5-ä»¥Raft-KVé¡¹ç›®ä¸ºä¾‹" class="headerlink" title="9.5 ä»¥Raft KVé¡¹ç›®ä¸ºä¾‹"></a>9.5 ä»¥Raft KVé¡¹ç›®ä¸ºä¾‹</h3><h4 id="å•å®¹å™¨Podéƒ¨ç½²ï¼ˆæ¨èï¼‰"><a href="#å•å®¹å™¨Podéƒ¨ç½²ï¼ˆæ¨èï¼‰" class="headerlink" title="å•å®¹å™¨Podéƒ¨ç½²ï¼ˆæ¨èï¼‰"></a>å•å®¹å™¨Podéƒ¨ç½²ï¼ˆæ¨èï¼‰</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">raft-kv-node-0</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">raft-server</span>       <span class="comment"># åªæœ‰ä¸€ä¸ªå®¹å™¨</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">raft-kv:latest</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">10000</span></span><br><span class="line">    <span class="attr">env:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">NODE_ID</span></span><br><span class="line">      <span class="attr">value:</span> <span class="string">&quot;0&quot;</span></span><br><span class="line">    <span class="attr">volumeMounts:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">raft-data</span></span><br><span class="line">      <span class="attr">mountPath:</span> <span class="string">/data</span></span><br><span class="line">  <span class="attr">volumes:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">raft-data</span></span><br><span class="line">    <span class="attr">persistentVolumeClaim:</span></span><br><span class="line">      <span class="attr">claimName:</span> <span class="string">raft-storage-0</span></span><br></pre></td></tr></table></figure>

<h4 id="å¤šå®¹å™¨Podéƒ¨ç½²ï¼ˆé«˜çº§åœºæ™¯ï¼‰"><a href="#å¤šå®¹å™¨Podéƒ¨ç½²ï¼ˆé«˜çº§åœºæ™¯ï¼‰" class="headerlink" title="å¤šå®¹å™¨Podéƒ¨ç½²ï¼ˆé«˜çº§åœºæ™¯ï¼‰"></a>å¤šå®¹å™¨Podéƒ¨ç½²ï¼ˆé«˜çº§åœºæ™¯ï¼‰</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">raft-kv-node-0-enhanced</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">raft-server</span>           <span class="comment"># ä¸»åº”ç”¨å®¹å™¨</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">raft-kv:latest</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">10000</span></span><br><span class="line">    <span class="attr">volumeMounts:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">raft-data</span></span><br><span class="line">      <span class="attr">mountPath:</span> <span class="string">/data</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">logs</span></span><br><span class="line">      <span class="attr">mountPath:</span> <span class="string">/var/log</span></span><br><span class="line">  </span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">log-collector</span>         <span class="comment"># æ—¥å¿—æ”¶é›†å®¹å™¨</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">fluentd:v1.14</span></span><br><span class="line">    <span class="attr">volumeMounts:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">logs</span></span><br><span class="line">      <span class="attr">mountPath:</span> <span class="string">/var/log</span></span><br><span class="line">  </span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">metrics-exporter</span>      <span class="comment"># ç›‘æ§æŒ‡æ ‡å®¹å™¨</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">prometheus-exporter:v1.0</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">9090</span></span><br><span class="line">  </span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">backup-agent</span>          <span class="comment"># å¤‡ä»½ä»£ç†å®¹å™¨</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">backup-agent:v1.0</span></span><br><span class="line">    <span class="attr">volumeMounts:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">raft-data</span></span><br><span class="line">      <span class="attr">mountPath:</span> <span class="string">/data</span></span><br><span class="line">      <span class="attr">readOnly:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="10-å®è·µæ€»ç»“ä¸æœ€ä½³å®è·µ"><a href="#10-å®è·µæ€»ç»“ä¸æœ€ä½³å®è·µ" class="headerlink" title="10. å®è·µæ€»ç»“ä¸æœ€ä½³å®è·µ"></a>10. å®è·µæ€»ç»“ä¸æœ€ä½³å®è·µ</h2><h3 id="10-1-æ ¸å¿ƒæ¦‚å¿µæ€»ç»“"><a href="#10-1-æ ¸å¿ƒæ¦‚å¿µæ€»ç»“" class="headerlink" title="10.1 æ ¸å¿ƒæ¦‚å¿µæ€»ç»“"></a>10.1 æ ¸å¿ƒæ¦‚å¿µæ€»ç»“</h3><h4 id="Kubernetesçš„æœ¬è´¨"><a href="#Kubernetesçš„æœ¬è´¨" class="headerlink" title="Kubernetesçš„æœ¬è´¨"></a>Kubernetesçš„æœ¬è´¨</h4><ul>
<li><strong>å®šä½</strong>ï¼šåˆ†å¸ƒå¼ç³»ç»Ÿçš„åŸºç¡€è®¾æ–½æŠ½è±¡å±‚</li>
<li><strong>ä½œç”¨</strong>ï¼šèµ„æºç®¡ç†ã€è°ƒåº¦ã€ç”Ÿå‘½å‘¨æœŸç®¡ç†</li>
<li><strong>ä»·å€¼</strong>ï¼šè‡ªåŠ¨åŒ–è¿ç»´ã€æ ‡å‡†åŒ–éƒ¨ç½²ã€æœåŠ¡æ²»ç†</li>
</ul>
<h4 id="Podçš„æœ¬è´¨"><a href="#Podçš„æœ¬è´¨" class="headerlink" title="Podçš„æœ¬è´¨"></a>Podçš„æœ¬è´¨</h4><ul>
<li><strong>å®šä¹‰</strong>ï¼šKubernetesçš„æœ€å°éƒ¨ç½²å•å…ƒ</li>
<li><strong>ç»„æˆ</strong>ï¼šä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨çš„é›†åˆ</li>
<li><strong>ç‰¹ç‚¹</strong>ï¼šå…±äº«ç½‘ç»œã€å­˜å‚¨ã€ç”Ÿå‘½å‘¨æœŸ</li>
</ul>
<h4 id="è°ƒåº¦æœºåˆ¶"><a href="#è°ƒåº¦æœºåˆ¶" class="headerlink" title="è°ƒåº¦æœºåˆ¶"></a>è°ƒåº¦æœºåˆ¶</h4><ul>
<li><strong>è¿‡ç¨‹</strong>ï¼šAPI Server â†’ Scheduler â†’ kubelet â†’ å®¹å™¨è¿è¡Œæ—¶</li>
<li><strong>ç»“æœ</strong>ï¼šPodè¿è¡Œåœ¨å®é™…çš„ç‰©ç†æœºæˆ–è™šæ‹Ÿæœºä¸Š</li>
<li><strong>æ§åˆ¶</strong>ï¼šé€šè¿‡èµ„æºè¯·æ±‚ã€èŠ‚ç‚¹é€‰æ‹©å™¨ã€äº²å’Œæ€§ç­‰ç­–ç•¥æ§åˆ¶</li>
</ul>
<h3 id="10-2-è®¾è®¡åŸåˆ™å’Œæœ€ä½³å®è·µ"><a href="#10-2-è®¾è®¡åŸåˆ™å’Œæœ€ä½³å®è·µ" class="headerlink" title="10.2 è®¾è®¡åŸåˆ™å’Œæœ€ä½³å®è·µ"></a>10.2 è®¾è®¡åŸåˆ™å’Œæœ€ä½³å®è·µ</h3><h4 id="å®¹å™¨è®¾è®¡åŸåˆ™"><a href="#å®¹å™¨è®¾è®¡åŸåˆ™" class="headerlink" title="å®¹å™¨è®¾è®¡åŸåˆ™"></a>å®¹å™¨è®¾è®¡åŸåˆ™</h4><ol>
<li><strong>ä¼˜å…ˆä½¿ç”¨å•å®¹å™¨Pod</strong>ï¼šç®€å•ã€æ¸…æ™°ã€æ˜“ç®¡ç†</li>
<li><strong>å¤šå®¹å™¨Podçš„ä½¿ç”¨æ¡ä»¶</strong>ï¼š<ul>
<li>å®¹å™¨é—´éœ€è¦å…±äº«æ–‡ä»¶ç³»ç»Ÿ</li>
<li>å®¹å™¨é—´éœ€è¦å…±äº«ç½‘ç»œï¼ˆlocalhosté€šä¿¡ï¼‰</li>
<li>å®¹å™¨ç”Ÿå‘½å‘¨æœŸç´§å¯†è€¦åˆ</li>
<li>å®¹å™¨éœ€è¦åŒæ—¶è°ƒåº¦åˆ°åŒä¸€èŠ‚ç‚¹</li>
</ul>
</li>
</ol>
<h4 id="éƒ¨ç½²ç­–ç•¥"><a href="#éƒ¨ç½²ç­–ç•¥" class="headerlink" title="éƒ¨ç½²ç­–ç•¥"></a>éƒ¨ç½²ç­–ç•¥</h4><ol>
<li><p><strong>æ¸è¿›å¼è¿ç§»</strong>ï¼š</p>
<ul>
<li>ç¬¬ä¸€æ­¥ï¼šå®¹å™¨åŒ–åº”ç”¨</li>
<li>ç¬¬äºŒæ­¥ï¼šå•Podéƒ¨ç½²</li>
<li>ç¬¬ä¸‰æ­¥ï¼šæ·»åŠ K8sç‰¹æ€§</li>
<li>ç¬¬å››æ­¥ï¼šå®Œæ•´çš„äº‘åŸç”Ÿæ¶æ„</li>
</ul>
</li>
<li><p><strong>ç¯å¢ƒé€‰æ‹©</strong>ï¼š</p>
<ul>
<li>å¼€å‘ç¯å¢ƒï¼šMinikubeã€Kindã€Docker Desktop</li>
<li>æµ‹è¯•ç¯å¢ƒï¼škubeadmé›†ç¾¤</li>
<li>ç”Ÿäº§ç¯å¢ƒï¼šäº‘æœåŠ¡å•†æ‰˜ç®¡æˆ–è‡ªå»ºé«˜å¯ç”¨é›†ç¾¤</li>
</ul>
</li>
</ol>
<h3 id="10-3-å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ"><a href="#10-3-å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ" class="headerlink" title="10.3 å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ"></a>10.3 å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ</h3><h4 id="é—®é¢˜1ï¼šPodè°ƒåº¦å¤±è´¥"><a href="#é—®é¢˜1ï¼šPodè°ƒåº¦å¤±è´¥" class="headerlink" title="é—®é¢˜1ï¼šPodè°ƒåº¦å¤±è´¥"></a>é—®é¢˜1ï¼šPodè°ƒåº¦å¤±è´¥</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹è°ƒåº¦å¤±è´¥åŸå› </span></span><br><span class="line">kubectl describe pod my-pod</span><br><span class="line">kubectl get events --sort-by=.metadata.creationTimestamp</span><br></pre></td></tr></table></figure>

<p><strong>å¸¸è§åŸå› </strong>ï¼š</p>
<ul>
<li>èµ„æºä¸è¶³</li>
<li>èŠ‚ç‚¹ä¸å¯ç”¨</li>
<li>é•œåƒæ‹‰å–å¤±è´¥</li>
<li>å­˜å‚¨å·æŒ‚è½½å¤±è´¥</li>
</ul>
<h4 id="é—®é¢˜2ï¼šå®¹å™¨å¯åŠ¨å¤±è´¥"><a href="#é—®é¢˜2ï¼šå®¹å™¨å¯åŠ¨å¤±è´¥" class="headerlink" title="é—®é¢˜2ï¼šå®¹å™¨å¯åŠ¨å¤±è´¥"></a>é—®é¢˜2ï¼šå®¹å™¨å¯åŠ¨å¤±è´¥</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹å®¹å™¨æ—¥å¿—</span></span><br><span class="line">kubectl logs my-pod</span><br><span class="line">kubectl logs my-pod --previous</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿›å…¥å®¹å™¨è°ƒè¯•</span></span><br><span class="line">kubectl <span class="built_in">exec</span> -it my-pod -- /bin/bash</span><br></pre></td></tr></table></figure>

<h4 id="é—®é¢˜3ï¼šç½‘ç»œè¿é€šæ€§é—®é¢˜"><a href="#é—®é¢˜3ï¼šç½‘ç»œè¿é€šæ€§é—®é¢˜" class="headerlink" title="é—®é¢˜3ï¼šç½‘ç»œè¿é€šæ€§é—®é¢˜"></a>é—®é¢˜3ï¼šç½‘ç»œè¿é€šæ€§é—®é¢˜</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æµ‹è¯•Podç½‘ç»œ</span></span><br><span class="line">kubectl <span class="built_in">exec</span> my-pod -- ping other-pod-ip</span><br><span class="line">kubectl <span class="built_in">exec</span> my-pod -- nslookup my-service</span><br></pre></td></tr></table></figure>

<h3 id="10-4-ç›‘æ§å’Œè¿ç»´"><a href="#10-4-ç›‘æ§å’Œè¿ç»´" class="headerlink" title="10.4 ç›‘æ§å’Œè¿ç»´"></a>10.4 ç›‘æ§å’Œè¿ç»´</h3><h4 id="åŸºç¡€ç›‘æ§"><a href="#åŸºç¡€ç›‘æ§" class="headerlink" title="åŸºç¡€ç›‘æ§"></a>åŸºç¡€ç›‘æ§</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># èµ„æºä½¿ç”¨ç›‘æ§</span></span><br><span class="line">kubectl top pods</span><br><span class="line">kubectl top nodes</span><br><span class="line"></span><br><span class="line"><span class="comment"># çŠ¶æ€ç›‘æ§</span></span><br><span class="line">kubectl get pods -w</span><br><span class="line">kubectl get events -w</span><br></pre></td></tr></table></figure>

<h4 id="æ—¥å¿—ç®¡ç†"><a href="#æ—¥å¿—ç®¡ç†" class="headerlink" title="æ—¥å¿—ç®¡ç†"></a>æ—¥å¿—ç®¡ç†</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ—¥å¿—æŸ¥çœ‹</span></span><br><span class="line">kubectl logs -f my-pod</span><br><span class="line">kubectl logs my-pod --since=1h --<span class="built_in">tail</span>=100</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤šå®¹å™¨Podçš„æ—¥å¿—</span></span><br><span class="line">kubectl logs my-pod -c container-name</span><br></pre></td></tr></table></figure>

<h3 id="10-5-å­¦ä¹ è·¯å¾„å»ºè®®"><a href="#10-5-å­¦ä¹ è·¯å¾„å»ºè®®" class="headerlink" title="10.5 å­¦ä¹ è·¯å¾„å»ºè®®"></a>10.5 å­¦ä¹ è·¯å¾„å»ºè®®</h3><h4 id="åˆå­¦è€…è·¯å¾„"><a href="#åˆå­¦è€…è·¯å¾„" class="headerlink" title="åˆå­¦è€…è·¯å¾„"></a>åˆå­¦è€…è·¯å¾„</h4><ol>
<li><strong>ç†è§£æ¦‚å¿µ</strong>ï¼šPodã€Serviceã€Deploymentçš„åŸºæœ¬æ¦‚å¿µ</li>
<li><strong>æœ¬åœ°å®è·µ</strong>ï¼šä½¿ç”¨Minikubeæ­å»ºæœ¬åœ°ç¯å¢ƒ</li>
<li><strong>ç®€å•éƒ¨ç½²</strong>ï¼šéƒ¨ç½²å•å®¹å™¨åº”ç”¨</li>
<li><strong>é€æ­¥æ·±å…¥</strong>ï¼šå­¦ä¹ ç½‘ç»œã€å­˜å‚¨ã€é…ç½®ç®¡ç†</li>
</ol>
<h4 id="è¿›é˜¶è·¯å¾„"><a href="#è¿›é˜¶è·¯å¾„" class="headerlink" title="è¿›é˜¶è·¯å¾„"></a>è¿›é˜¶è·¯å¾„</h4><ol>
<li><strong>å¤šå®¹å™¨Pod</strong>ï¼šç†è§£Sidecaræ¨¡å¼</li>
<li><strong>æœåŠ¡ç½‘æ ¼</strong>ï¼šIstioã€Linkerdç­‰</li>
<li><strong>è¿ç»´å·¥å…·</strong>ï¼šHelmã€Kustomizeç­‰</li>
<li><strong>ç›‘æ§å‘Šè­¦</strong>ï¼šPrometheusã€Grafanaç­‰</li>
</ol>
<h4 id="ä¸“å®¶è·¯å¾„"><a href="#ä¸“å®¶è·¯å¾„" class="headerlink" title="ä¸“å®¶è·¯å¾„"></a>ä¸“å®¶è·¯å¾„</h4><ol>
<li><strong>è‡ªå®šä¹‰æ§åˆ¶å™¨</strong>ï¼šOperatorå¼€å‘</li>
<li><strong>é›†ç¾¤ç®¡ç†</strong>ï¼šé«˜å¯ç”¨ã€ç¾å¤‡ã€å‡çº§</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šèµ„æºè°ƒä¼˜ã€ç½‘ç»œä¼˜åŒ–</li>
<li><strong>å®‰å…¨åŠ å›º</strong>ï¼šRBACã€ç½‘ç»œç­–ç•¥ã€Podå®‰å…¨ç­–ç•¥</li>
</ol>
<hr>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ol>
<li><strong>Kubernetesä¸æ˜¯ä¾µå…¥æ€§æ¡†æ¶</strong>ï¼Œè€Œæ˜¯åŸºç¡€è®¾æ–½æŠ½è±¡å±‚</li>
<li><strong>Podä¸æ˜¯å®¹å™¨</strong>ï¼Œè€Œæ˜¯å®¹å™¨çš„åŒ…è£…å™¨å’Œç®¡ç†å•å…ƒ</li>
<li><strong>è°ƒåº¦ä¸æ˜¯é»‘ç®±</strong>ï¼Œè€Œæ˜¯å¯ç†è§£å’Œå¯æ§åˆ¶çš„èµ„æºåˆ†é…è¿‡ç¨‹</li>
<li><strong>å¤æ‚æ€§æ˜¯å¯ç®¡ç†çš„</strong>ï¼Œé€šè¿‡æ¸è¿›å¼å­¦ä¹ å’Œå®è·µå¯ä»¥æŒæ¡</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/09/10/k8s%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/" data-id="cmfe5ab600000hgpv95ne7f5h" data-title="k8sæ·±å…¥ç†è§£" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/docker/" rel="tag">docker</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/k8s/" rel="tag">k8s</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AE%B9%E5%99%A8%E7%BB%84/" rel="tag">å®¹å™¨ç»„</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AE%B9%E5%99%A8%E7%BC%96%E6%8E%92/" rel="tag">å®¹å™¨ç¼–æ’</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-éªŒè¯äºŒå‰æ ‘æœç´¢" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/09/10/%E9%AA%8C%E8%AF%81%E4%BA%8C%E5%8F%89%E6%A0%91%E6%90%9C%E7%B4%A2/" class="article-date">
  <time class="dt-published" datetime="2025-09-10T13:50:58.000Z" itemprop="datePublished">2025-09-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/09/10/%E9%AA%8C%E8%AF%81%E4%BA%8C%E5%8F%89%E6%A0%91%E6%90%9C%E7%B4%A2/">éªŒè¯äºŒå‰æœç´¢æ ‘</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h2><p>æœ¬é¢˜ä¸º <strong>åŠ›æ‰£ 98. éªŒè¯äºŒå‰æœç´¢æ ‘</strong>ã€‚<br>ç»™ä½ ä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ <code>root</code> ï¼Œåˆ¤æ–­å…¶æ˜¯å¦æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„äºŒå‰æœç´¢æ ‘ã€‚</p>
<p><strong>æœ‰æ•ˆäºŒå‰æœç´¢æ ‘å®šä¹‰å¦‚ä¸‹ï¼š</strong></p>
<ol>
<li>èŠ‚ç‚¹çš„å·¦å­æ ‘åªåŒ…å« <strong>ä¸¥æ ¼å°äº</strong> å½“å‰èŠ‚ç‚¹çš„æ•°ã€‚  </li>
<li>èŠ‚ç‚¹çš„å³å­æ ‘åªåŒ…å« <strong>ä¸¥æ ¼å¤§äº</strong> å½“å‰èŠ‚ç‚¹çš„æ•°ã€‚  </li>
<li>æ‰€æœ‰å·¦å­æ ‘å’Œå³å­æ ‘è‡ªèº«å¿…é¡»ä¹Ÿæ˜¯äºŒå‰æœç´¢æ ‘ã€‚</li>
</ol>
<hr>
<h2 id="è§£é¢˜æ€è·¯"><a href="#è§£é¢˜æ€è·¯" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h2><p>å› ä¸ºæœ¬é¢˜æ¶‰åŠäºŒå‰æ ‘çš„éå†ï¼Œé€šå¸¸ä½¿ç”¨ <strong>é€’å½’</strong> æ¥å®Œæˆã€‚<br>éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼š<br>åˆ¤æ–­ BST æ—¶ï¼Œæ¯”è¾ƒçš„æ˜¯ <strong>æ•´ä¸ªå­æ ‘</strong> æ˜¯å¦æ»¡è¶³æ¡ä»¶ï¼Œè€Œä¸æ˜¯ä»…æ¯”è¾ƒ <strong>å·¦å³å­èŠ‚ç‚¹</strong>ã€‚</p>
<p>å› æ­¤æ¯æ¬¡é€’å½’åˆ°ä¸€ä¸ªèŠ‚ç‚¹æ—¶ï¼Œéœ€è¦æ£€æŸ¥å®ƒæ˜¯å¦åœ¨ <strong>ç¥–å…ˆèŠ‚ç‚¹ä¼ ä¸‹æ¥çš„çº¦æŸèŒƒå›´</strong> å†…ã€‚<br>å³ï¼šé€’å½’æ—¶ä¸ºæ¯ä¸ªèŠ‚ç‚¹ç»´æŠ¤ä¸€ä¸ªåŒºé—´ <code>(min, max)</code>ã€‚  </p>
<p>é€’å½’è§„åˆ™å¦‚ä¸‹ï¼š</p>
<ul>
<li><p>å·¦å­æ ‘é€’å½’æ—¶ï¼š<br><code>helper(node.Left, min, node.Val)</code>  </p>
</li>
<li><p>å³å­æ ‘é€’å½’æ—¶ï¼š<br><code>helper(node.Right, node.Val, max)</code></p>
</li>
</ul>
<p>ä¸ºä»€ä¹ˆæ¯æ¬¡åªæ›´æ–°ä¸€è¾¹ï¼Ÿ<br>å› ä¸ºçº¦æŸæ˜¯å»¶ç»­çš„ï¼š  </p>
<ul>
<li>å¯¹å·¦å­æ ‘æ¥è¯´ï¼Œæœ€å¤§å€¼å—å½“å‰èŠ‚ç‚¹çš„å€¼é™åˆ¶ï¼›  </li>
<li>å¯¹å³å­æ ‘æ¥è¯´ï¼Œæœ€å°å€¼å—å½“å‰èŠ‚ç‚¹çš„å€¼é™åˆ¶ã€‚</li>
</ul>
<hr>
<h2 id="ä»£ç å®ç°ï¼ˆGoï¼‰"><a href="#ä»£ç å®ç°ï¼ˆGoï¼‰" class="headerlink" title="ä»£ç å®ç°ï¼ˆGoï¼‰"></a>ä»£ç å®ç°ï¼ˆGoï¼‰</h2><pre><code class="language-go">/**
 * Definition for a binary tree node.
 * type TreeNode struct &#123;
 *     Val   int
 *     Left  *TreeNode
 *     Right *TreeNode
 * &#125;
 */
func isValidBST(root *TreeNode) bool &#123;
    return helper(root, nil, nil)
&#125;

func helper(node *TreeNode, min *int, max *int) bool &#123;
    if node == nil &#123;
        return true
    &#125;
    if min != nil &amp;&amp; node.Val &lt;= *min &#123;
        return false
    &#125;
    if max != nil &amp;&amp; node.Val &gt;= *max &#123;
        return false
    &#125;
    return helper(node.Left, min, &amp;node.Val) &amp;&amp; helper(node.Right, &amp;node.Val, max)
&#125;
</code></pre>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/09/10/%E9%AA%8C%E8%AF%81%E4%BA%8C%E5%8F%89%E6%A0%91%E6%90%9C%E7%B4%A2/" data-id="cmfe1vx4d00001opv00883w7s" data-title="éªŒè¯äºŒå‰æœç´¢æ ‘" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/" rel="tag">äºŒå‰æ ‘</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%88%B7%E9%A2%98/" rel="tag">åˆ·é¢˜</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">ç®—æ³•</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%80%92%E5%BD%92/" rel="tag">é€’å½’</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-goçš„æ³¨æ„äº‹é¡¹" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/09/09/go%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/" class="article-date">
  <time class="dt-published" datetime="2025-09-09T14:26:44.000Z" itemprop="datePublished">2025-09-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/09/09/go%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/">goçš„æ³¨æ„äº‹é¡¹</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>æ€»ç»“ä¸€ä¸‹ C++ è½¬ Go éœ€è¦æ³¨æ„çš„äº‹é¡¹ã€‚</p>
<h2 id="1-Go-æ²¡æœ‰æ„é€ å‡½æ•°å’Œææ„å‡½æ•°"><a href="#1-Go-æ²¡æœ‰æ„é€ å‡½æ•°å’Œææ„å‡½æ•°" class="headerlink" title="1. Go æ²¡æœ‰æ„é€ å‡½æ•°å’Œææ„å‡½æ•°"></a>1. Go æ²¡æœ‰æ„é€ å‡½æ•°å’Œææ„å‡½æ•°</h2><p>Go è¿½æ±‚ç®€å•ï¼Œå¹¶ä¸”è‡ªå¸¦å†…å­˜ç®¡ç†ï¼ˆGCï¼‰ï¼Œä¸éœ€è¦åƒ C++ é‚£æ ·åœ¨æ„é€ å’Œææ„æ—¶è¿›è¡Œå¤§é‡å†…å­˜å£°æ˜å’Œé‡Šæ”¾æ“ä½œï¼Œå› æ­¤æ²¡æœ‰æ„é€ å‡½æ•°å’Œææ„å‡½æ•°ã€‚Go æä¾›äº†ä¸‰ç§å¯¹è±¡åˆ›å»ºæ–¹å¼ï¼š</p>
<h3 id="ï¼ˆ1ï¼‰ç›´æ¥ä½¿ç”¨ç»“æ„ä½“å­—é¢é‡ï¼ˆLiteralï¼‰"><a href="#ï¼ˆ1ï¼‰ç›´æ¥ä½¿ç”¨ç»“æ„ä½“å­—é¢é‡ï¼ˆLiteralï¼‰" class="headerlink" title="ï¼ˆ1ï¼‰ç›´æ¥ä½¿ç”¨ç»“æ„ä½“å­—é¢é‡ï¼ˆLiteralï¼‰"></a>ï¼ˆ1ï¼‰ç›´æ¥ä½¿ç”¨ç»“æ„ä½“å­—é¢é‡ï¼ˆLiteralï¼‰</h3><p>è¿™æ˜¯æœ€ç®€å•ã€æœ€ç›´æ¥çš„æ–¹å¼ï¼š</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</span><br><span class="line">    Name <span class="type">string</span></span><br><span class="line">    Age  <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// æŒ‰å­—æ®µé¡ºåºåˆå§‹åŒ–</span></span><br><span class="line">    p1 := Person&#123;<span class="string">&quot;Alice&quot;</span>, <span class="number">30</span>&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŒ‰å­—æ®µååˆå§‹åŒ–ï¼ˆæ¨èï¼Œé¡ºåºä¸é‡è¦ï¼‰</span></span><br><span class="line">    p2 := Person&#123;</span><br><span class="line">        Name: <span class="string">&quot;Bob&quot;</span>,</span><br><span class="line">        Age:  <span class="number">25</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">``</span></span><br><span class="line"></span><br><span class="line">### ï¼ˆ<span class="number">2</span>ï¼‰ä½¿ç”¨æŒ‡é’ˆå’Œå­—é¢é‡ï¼ˆåŠ¨æ€åˆ†é…ï¼‰</span><br><span class="line"></span><br><span class="line">å¦‚æœå¸Œæœ›å¯¹è±¡åœ¨å †ä¸Šåˆ†é…ï¼Œå¹¶é€šè¿‡æŒ‡é’ˆè¿›è¡Œå¼•ç”¨ï¼š</span><br><span class="line"></span><br><span class="line"><span class="string">``</span><span class="string">`go</span></span><br><span class="line"><span class="string">p := &amp;Person&#123;</span></span><br><span class="line"><span class="string">    Name: &quot;Charlie&quot;,</span></span><br><span class="line"><span class="string">    Age:  40,</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="ï¼ˆ3ï¼‰å·¥å‚å‡½æ•°"><a href="#ï¼ˆ3ï¼‰å·¥å‚å‡½æ•°" class="headerlink" title="ï¼ˆ3ï¼‰å·¥å‚å‡½æ•°"></a>ï¼ˆ3ï¼‰å·¥å‚å‡½æ•°</h3><p>åœ¨å¯¹è±¡æˆå‘˜èµ‹å€¼çš„åŒæ—¶ï¼Œå¯ä»¥è¿›è¡Œé€»è¾‘åŒ–å¤„ç†ï¼Œæ¯”å¦‚é»˜è®¤å€¼ã€éªŒè¯æˆ–ä¾èµ–æ³¨å…¥ï¼š</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewPerson</span><span class="params">(name <span class="type">string</span>, age <span class="type">int</span>)</span></span> *Person &#123;</span><br><span class="line">    <span class="keyword">if</span> age &lt; <span class="number">0</span> &#123;</span><br><span class="line">        age = <span class="number">0</span> <span class="comment">// ä¿è¯åˆæ³•å¹´é¾„</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &amp;Person&#123;</span><br><span class="line">        Name: name,</span><br><span class="line">        Age:  age,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    p := NewPerson(<span class="string">&quot;David&quot;</span>, <span class="number">-5</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ³¨æ„ï¼šC++ åœ¨å¯¹è±¡æ‹·è´æ—¶ä¼šè‡ªåŠ¨è°ƒç”¨ç¼–è¯‘å™¨ç”Ÿæˆçš„æ„é€ å‡½æ•°ï¼Œè€Œ Go åªæ˜¯ç®€å•é€ä¸ªæ‹·è´å˜é‡ã€‚å¦‚æœæ¶‰åŠæŒ‡é’ˆï¼Œéœ€è¦æ³¨æ„æ‹·è´åæ˜¯å¦ä¸ºåŒä¸€æ®µåœ°å€ï¼Œæˆå‘˜æ˜¯å¦å…±äº«ã€‚</p>
</blockquote>
<hr>
<h2 id="2-Go-æ²¡æœ‰æˆå‘˜å‡½æ•°"><a href="#2-Go-æ²¡æœ‰æˆå‘˜å‡½æ•°" class="headerlink" title="2. Go æ²¡æœ‰æˆå‘˜å‡½æ•°"></a>2. Go æ²¡æœ‰æˆå‘˜å‡½æ•°</h2><p>Go å¼•å…¥äº† <strong>æ¥æ”¶è€…ï¼ˆreceiverï¼‰</strong> çš„æ¦‚å¿µï¼Œå°†å‡½æ•°ç»‘å®šåˆ° struct ä¸Šï¼š</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</span><br><span class="line">    Name <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–¹æ³•ç»‘å®šåœ¨ Person ä¸Š</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p *Person)</span></span> SetName(name <span class="type">string</span>) &#123;</span><br><span class="line">    p.Name = name</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    person := &amp;Person&#123;&#125;</span><br><span class="line">    person.SetName(<span class="string">&quot;Alice&quot;</span>) <span class="comment">// è°ƒç”¨è¯­æ³•åƒæˆå‘˜å‡½æ•°</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¼–è¯‘å™¨å®é™…ç¿»è¯‘ä¸ºï¼š</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SetName(person, <span class="string">&quot;Alice&quot;</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æœ¬è´¨ä¸Šç±»ä¼¼ C++ çš„æˆå‘˜å‡½æ•°ï¼ŒC++ æ˜¯éšå¼ä¼ å…¥ <code>this</code> æŒ‡é’ˆï¼Œè€Œ Go æ˜¯æ˜¾å¼ä¼ å…¥æ¥æ”¶è€…æŒ‡é’ˆã€‚</p>
</blockquote>
<hr>
<h2 id="3-Go-æ²¡æœ‰ç±»ç»§æ‰¿ï¼Œä¾é æ¥å£å®ç°å¤šæ€"><a href="#3-Go-æ²¡æœ‰ç±»ç»§æ‰¿ï¼Œä¾é æ¥å£å®ç°å¤šæ€" class="headerlink" title="3. Go æ²¡æœ‰ç±»ç»§æ‰¿ï¼Œä¾é æ¥å£å®ç°å¤šæ€"></a>3. Go æ²¡æœ‰ç±»ç»§æ‰¿ï¼Œä¾é æ¥å£å®ç°å¤šæ€</h2><p>Go ä½¿ç”¨ <strong>ç»„åˆå’Œæ¥å£</strong> æ¥å®ç°å¤šæ€ï¼Œä¸å­˜åœ¨è™šå‡½æ•°ï¼š</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Speaker <span class="keyword">interface</span> &#123;</span><br><span class="line">    Speak() <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</span><br><span class="line">    Name <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p *Person)</span></span> Speak() <span class="type">string</span> &#123;   <span class="comment">// æŒ‡é’ˆæ¥æ”¶è€…å¯ä»¥ä¿®æ”¹çŠ¶æ€</span></span><br><span class="line">    p.Name = <span class="string">&quot;Bob&quot;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Hi, I&#x27;m &quot;</span> + p.Name</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> s Speaker</span><br><span class="line">    p := &amp;Person&#123;Name: <span class="string">&quot;Alice&quot;</span>&#125;</span><br><span class="line">    s = p</span><br><span class="line">    fmt.Println(s.Speak())  <span class="comment">// Hi, I&#x27;m Bob</span></span><br><span class="line">    fmt.Println(p.Name)     <span class="comment">// Bob</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è§£é‡Šï¼š</p>
<ul>
<li>æ¥å£å˜é‡ <code>s</code> ä¸å­˜çŠ¶æ€ï¼Œåªæ˜¯æ–¹æ³•é›†ã€‚</li>
<li><code>p</code> æŒæœ‰çŠ¶æ€ã€‚</li>
<li>æ–¹æ³•é€šè¿‡æ¥æ”¶è€…è®¿é—®çŠ¶æ€ã€‚</li>
<li>ç»„åˆæ¥å£ + æ¥æ”¶è€… â†’ å¤šæ€ + å¯å˜çŠ¶æ€ã€‚</li>
</ul>
<blockquote>
<p>Go çš„é¸­å­åŸåˆ™è¦æ±‚ï¼šç±»å‹è¦è¢«è§†ä¸ºæ¥å£ï¼Œå¿…é¡»å®ç°æ¥å£çš„æ‰€æœ‰æ–¹æ³•ã€‚ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨è®¤å®šè¯¥ç±»å‹å®ç°äº†æ¥å£ã€‚æ¥å£ä¸æ˜¯å¯¹è±¡ï¼Œä¹Ÿä¸æ˜¯ç±»ï¼Œåªæ˜¯ä¸€ç»„æ–¹æ³•ç­¾åçš„é›†åˆã€‚å¸¦æ¥æ”¶è€…çš„å‡½æ•°å°±æ˜¯è¯¥ç±»å‹çš„æ–¹æ³•ï¼Œæ‰€æœ‰æ–¹æ³•åˆèµ·æ¥æ„æˆç±»å‹çš„æ–¹æ³•é›†ï¼Œä¸”æ–¹æ³•é›†æ˜¯é™æ€å±æ€§ï¼Œç¼–è¯‘å™¨å®Œå…¨å¯çŸ¥ã€‚åœ¨å¤šæ€è°ƒç”¨æ—¶ï¼Œç¼–è¯‘å™¨ä¼šæ£€æŸ¥ç±»å‹çš„æ–¹æ³•é›†æ˜¯å¦å®Œå…¨è¦†ç›–æ¥å£çš„æ–¹æ³•é›†ï¼Œå¦åˆ™æŠ¥é”™ã€‚åœ¨å†…å­˜å±‚é¢ï¼Œæ¥å£å˜é‡å­˜å‚¨åŠ¨æ€ç±»å‹å’Œå…·ä½“å€¼ï¼ˆæˆ–æŒ‡é’ˆï¼‰ï¼Œæ–¹æ³•è°ƒç”¨æ—¶é€šè¿‡æ–¹æ³•è¡¨æŸ¥æ‰¾å…·ä½“ç±»å‹çš„å®ç°ï¼Œä»è€Œå®ç°å¤šæ€ã€‚</p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/09/09/go%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/" data-id="cmfcpncno00004cpv9ea43a53" data-title="goçš„æ³¨æ„äº‹é¡¹" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/golang/" rel="tag">golang</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/" rel="tag">è¯­æ³•åŸºç¡€</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-LRUç®—æ³•" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/09/09/LRU%E7%AE%97%E6%B3%95/" class="article-date">
  <time class="dt-published" datetime="2025-09-09T13:13:18.000Z" itemprop="datePublished">2025-09-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/09/09/LRU%E7%AE%97%E6%B3%95/">LRUç®—æ³•</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>æœ¬é¢˜ä¸ºåŠ›æ‰£ <strong>146. LRU ç¼“å­˜</strong>ï¼š<br>è¯·ä½ è®¾è®¡å¹¶å®ç°ä¸€ä¸ªæ»¡è¶³ <strong>LRU (æœ€è¿‘æœ€å°‘ä½¿ç”¨) ç¼“å­˜</strong> çº¦æŸçš„æ•°æ®ç»“æ„ã€‚</p>
<hr>
<h2 id="é¢˜ç›®è¦æ±‚"><a href="#é¢˜ç›®è¦æ±‚" class="headerlink" title="é¢˜ç›®è¦æ±‚"></a>é¢˜ç›®è¦æ±‚</h2><p>å®ç° <code>LRUCache</code> ç±»ï¼š</p>
<ul>
<li><code>LRUCache(int capacity)</code>ï¼šä»¥æ­£æ•´æ•°ä½œä¸ºå®¹é‡ capacity åˆå§‹åŒ– LRU ç¼“å­˜ã€‚</li>
<li><code>int get(int key)</code>ï¼šå¦‚æœå…³é”®å­— key å­˜åœ¨äºç¼“å­˜ä¸­ï¼Œåˆ™è¿”å›å…³é”®å­—çš„å€¼ï¼Œå¦åˆ™è¿”å› -1ã€‚</li>
<li><code>void put(int key, int value)</code>ï¼šå¦‚æœå…³é”®å­— key å·²ç»å­˜åœ¨ï¼Œåˆ™å˜æ›´å…¶æ•°æ®å€¼ valueï¼›å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™å‘ç¼“å­˜ä¸­æ’å…¥è¯¥ç»„ key-value ã€‚<br>å¦‚æœæ’å…¥æ“ä½œå¯¼è‡´å…³é”®å­—æ•°é‡è¶…è¿‡ capacity ï¼Œåˆ™åº”è¯¥é€å‡ºæœ€ä¹…æœªä½¿ç”¨çš„å…³é”®å­—ã€‚</li>
</ul>
<p>è¦æ±‚ï¼šå‡½æ•° <code>get</code> å’Œ <code>put</code> å¿…é¡»ä»¥ <strong>O(1)</strong> çš„å¹³å‡æ—¶é—´å¤æ‚åº¦è¿è¡Œã€‚</p>
<hr>
<h2 id="è§£é¢˜æ€è·¯"><a href="#è§£é¢˜æ€è·¯" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h2><p>åˆ†ä¸ºä¸‰æ­¥ï¼š</p>
<ol>
<li><p><strong>æ„é€ å‡½æ•°</strong><br>åˆå§‹åŒ– <code>LRUCache</code> ç±»ï¼Œç»´æŠ¤å¥½å®¹é‡å³å¯ã€‚</p>
</li>
<li><p><strong>æ ¸å¿ƒæ€æƒ³</strong><br>æ•´ä¸ªç®—æ³•å°±æ˜¯å®ç°ä¸¤ä¸ªä¸»è¦æ“ä½œï¼š<code>get</code> å’Œ <code>put</code>ã€‚  </p>
<ul>
<li>åªè¦æœ‰æ•°æ®è¢«è®¿é—®ï¼ˆæ— è®ºæ˜¯è¯»è¿˜æ˜¯å†™ï¼‰ï¼Œéƒ½å±äºâ€œæœ€è¿‘ä½¿ç”¨â€ï¼Œæ”¾åˆ°é“¾è¡¨å¤´ã€‚</li>
</ul>
</li>
<li><p><strong>å…·ä½“æ“ä½œ</strong>  </p>
<ul>
<li><strong>GET</strong>ï¼šæŸ¥æ‰¾ key â†’ valueï¼Œå¦‚æœæ²¡æ‰¾åˆ°è¿”å› -1ï¼›å¦‚æœæ‰¾åˆ°äº†ï¼Œç§»åŠ¨è¯¥èŠ‚ç‚¹åˆ°é“¾è¡¨å¤´ã€‚  </li>
<li><strong>PUT</strong>ï¼š  <ul>
<li>å¦‚æœ key å­˜åœ¨ï¼Œæ›´æ–° value å¹¶ç§»åŠ¨åˆ°é“¾è¡¨å¤´ã€‚  </li>
<li>å¦‚æœ key ä¸å­˜åœ¨ï¼Œåˆ¤æ–­å®¹é‡æ˜¯å¦å·²æ»¡ï¼š  <ul>
<li>è‹¥å·²æ»¡ï¼Œåˆ é™¤é“¾è¡¨å°¾éƒ¨èŠ‚ç‚¹ï¼ˆæœ€ä¹…æœªä½¿ç”¨ï¼‰ã€‚  </li>
<li>æ’å…¥æ–°çš„ <code>(key,value)</code> åˆ°é“¾è¡¨å¤´ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ol>
<hr>
<h2 id="ä»£ç å®ç°-C"><a href="#ä»£ç å®ç°-C" class="headerlink" title="ä»£ç å®ç° (C++)"></a>ä»£ç å®ç° (C++)</h2><pre><code class="language-cpp">#include &lt;list&gt;
#include &lt;unordered_map&gt;
using namespace std;

class LRUCache &#123;
public:
    LRUCache(int capacity) &#123;
        this-&gt;capacity = capacity;
    &#125;
    
    int get(int key) &#123;
        auto it = map.find(key);
        if (it == map.end()) &#123;
            return -1;
        &#125;
        // ç§»åŠ¨åˆ°é“¾è¡¨å¤´
        cache.splice(cache.begin(), cache, it-&gt;second);
        return it-&gt;second-&gt;second;
    &#125;
    
    void put(int key, int value) &#123;
        auto it = map.find(key);
        if (it != map.end()) &#123;
            // æ›´æ–° valueï¼Œå¹¶ç§»åŠ¨åˆ°é“¾è¡¨å¤´
            it-&gt;second-&gt;second = value;
            cache.splice(cache.begin(), cache, it-&gt;second);
        &#125; else &#123;
            // å®¹é‡å·²æ»¡ï¼Œåˆ é™¤å°¾éƒ¨
            if (cache.size() == capacity) &#123;
                auto del = cache.back();
                map.erase(del.first);
                cache.pop_back();
            &#125;
            // æ’å…¥æ–°èŠ‚ç‚¹åˆ°å¤´éƒ¨
            cache.emplace_front(key, value);
            map[key] = cache.begin();
        &#125;
    &#125;

private:
    int capacity;
    list&lt;pair&lt;int,int&gt;&gt; cache; // åŒå‘é“¾è¡¨ï¼šå¤´=æœ€è¿‘ä½¿ç”¨ï¼Œå°¾=æœ€ä¹…æœªä½¿ç”¨
    unordered_map&lt;int, list&lt;pair&lt;int,int&gt;&gt;::iterator&gt; map; // å“ˆå¸Œè¡¨ï¼škey -&gt; é“¾è¡¨èŠ‚ç‚¹
&#125;;
</code></pre>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/09/09/LRU%E7%AE%97%E6%B3%95/" data-id="cmfcmevr80003a9pvbt97gw9c" data-title="LRUç®—æ³•" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LRU/" rel="tag">LRU</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%88%B7%E9%A2%98/" rel="tag">åˆ·é¢˜</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">ç®—æ³•</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-æ¢ç©¶docker" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/08/31/%E6%8E%A2%E7%A9%B6docker/" class="article-date">
  <time class="dt-published" datetime="2025-08-31T14:47:08.000Z" itemprop="datePublished">2025-08-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/08/31/%E6%8E%A2%E7%A9%B6docker/">æ¢ç©¶docker</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="å®¹å™¨æŠ€æœ¯çš„å‘å±•ä¸å¯ç¤º"><a href="#å®¹å™¨æŠ€æœ¯çš„å‘å±•ä¸å¯ç¤º" class="headerlink" title="å®¹å™¨æŠ€æœ¯çš„å‘å±•ä¸å¯ç¤º"></a>å®¹å™¨æŠ€æœ¯çš„å‘å±•ä¸å¯ç¤º</h1><p>æ€»çš„æ¥è¯´ï¼Œdockerå°±æ˜¯è½»é‡åŒ–çš„è™šæ‹Ÿæœºï¼Œé€‰å–äº†è¿›ç¨‹è¿è¡Œå¿…é¡»ä¾èµ–çš„æ“ä½œç³»ç»Ÿæ¨¡å—ï¼Œè¿›è¡Œé¡¹ç›®éƒ¨ç½²ã€‚</p>
<h2 id="å®¹å™¨å‡ºç°ä¹‹å‰ï¼šéƒ¨ç½²çš„ç—›ç‚¹"><a href="#å®¹å™¨å‡ºç°ä¹‹å‰ï¼šéƒ¨ç½²çš„ç—›ç‚¹" class="headerlink" title="å®¹å™¨å‡ºç°ä¹‹å‰ï¼šéƒ¨ç½²çš„ç—›ç‚¹"></a>å®¹å™¨å‡ºç°ä¹‹å‰ï¼šéƒ¨ç½²çš„ç—›ç‚¹</h2><p>åœ¨å®¹å™¨ï¼ˆä»¥ <strong>Docker</strong> ä¸ºä»£è¡¨çš„æŠ€æœ¯ï¼‰å‡ºç°ä¹‹å‰ï¼Œç¨‹åºçš„éƒ¨ç½²å¾€å¾€æœ‰ä¸¤ç±»æ¨¡å¼ï¼š</p>
<h3 id="1-ç›´æ¥éƒ¨ç½²"><a href="#1-ç›´æ¥éƒ¨ç½²" class="headerlink" title="1. ç›´æ¥éƒ¨ç½²"></a>1. ç›´æ¥éƒ¨ç½²</h3><ul>
<li><strong>æ–¹å¼</strong>ï¼šå°†ç¨‹åºç›´æ¥éƒ¨ç½²åˆ°æœºå™¨ä¸Šè¿è¡Œï¼Œä½¿ç”¨ <code>systemd</code> ç­‰å®ˆæŠ¤è¿›ç¨‹ç®¡ç†ä¸šåŠ¡ç¨‹åºã€‚  </li>
<li><strong>ä¼˜ç‚¹</strong>ï¼šæ–¹ä¾¿æŸ¥çœ‹ç¨‹åºè¿è¡Œæƒ…å†µï¼Œæ”¯æŒæ‰‹åŠ¨&#x2F;è‡ªåŠ¨åŒ–å¯åœã€‚  </li>
<li><strong>ç¼ºç‚¹</strong>ï¼š  <ul>
<li>ä»…ç®¡ç†äº†ä¸šåŠ¡ç¨‹åºæœ¬èº«ï¼Œ<strong>ä¸ç®¡ç†ä¾èµ–</strong>ã€‚  </li>
<li>æ–°å¢æœºå™¨æ—¶éœ€æ‰‹åŠ¨å®‰è£…ä¾èµ–ï¼Œä¾èµ–å¤æ‚ä¸”å¤šç‰ˆæœ¬å…±å­˜å›°éš¾ã€‚  </li>
<li>å¤šä¸ªç¨‹åºåœ¨åŒä¸€å°æœºå™¨ä¸Šå¯èƒ½å‘ç”Ÿä¾èµ–å†²çªï¼ˆå¦‚ A éœ€è¦ X v1.0ï¼Œè€Œ B éœ€è¦ X v2.0ï¼ŒäºŒè€…æ— æ³•å…±å­˜ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<blockquote>
<p>æ€»ç»“ï¼šä¾èµ–å®‰è£…ç®€å•ï¼Œä½†ä¾èµ–å†²çªå’Œç‰ˆæœ¬å·®å¼‚å¯¼è‡´éƒ¨ç½²æ•ˆç‡ä½ã€ç¨³å®šæ€§å·®ï¼Œè¿ç»´äººå‘˜å’Œå¼€å‘è€…éƒ½å¾ˆç—›è‹¦ã€‚</p>
</blockquote>
<h3 id="2-è™šæ‹Ÿæœºéš”ç¦»"><a href="#2-è™šæ‹Ÿæœºéš”ç¦»" class="headerlink" title="2. è™šæ‹Ÿæœºéš”ç¦»"></a>2. è™šæ‹Ÿæœºéš”ç¦»</h3><ul>
<li><strong>æ€è·¯</strong>ï¼šå°†ç¨‹åºä¸ä¾èµ–ç¯å¢ƒå®Œå…¨ç»‘å®šï¼Œä½œä¸ºç‹¬ç«‹å•å…ƒï¼ˆè™šæ‹Ÿæœºé•œåƒï¼‰è¿›è¡Œç®¡ç†ã€‚  </li>
<li><strong>ä¼˜ç‚¹</strong>ï¼š  <ul>
<li>å½»åº•è§£å†³ä¾èµ–å†²çªé—®é¢˜ã€‚</li>
</ul>
</li>
<li><strong>ç¼ºç‚¹</strong>ï¼š  <ul>
<li><strong>é•œåƒåºå¤§</strong>ï¼šå­˜å‚¨å’Œä¼ è¾“æˆæœ¬é«˜ã€‚  </li>
<li><strong>å¯åœç¼“æ…¢</strong>ï¼šéœ€è¦å®Œæ•´çš„æ“ä½œç³»ç»Ÿå¯åŠ¨ã€‚  </li>
<li><strong>æ€§èƒ½æŸè€—å¤§</strong>ï¼šå¤šå¥—å†…æ ¸è¿›ç¨‹å¯¼è‡´èµ„æºæµªè´¹ã€‚</li>
</ul>
</li>
</ul>
<p>è™šæ‹Ÿæœºè§£å†³äº†ä¾èµ–å†²çªï¼Œä½†å¼•å…¥äº†æ–°çš„æ€§èƒ½ä¸æ•ˆç‡é—®é¢˜ã€‚</p>
<hr>
<h2 id="å®¹å™¨çš„åŸºçŸ³ï¼šè½»é‡åŒ–è™šæ‹ŸåŒ–æŠ€æœ¯"><a href="#å®¹å™¨çš„åŸºçŸ³ï¼šè½»é‡åŒ–è™šæ‹ŸåŒ–æŠ€æœ¯" class="headerlink" title="å®¹å™¨çš„åŸºçŸ³ï¼šè½»é‡åŒ–è™šæ‹ŸåŒ–æŠ€æœ¯"></a>å®¹å™¨çš„åŸºçŸ³ï¼šè½»é‡åŒ–è™šæ‹ŸåŒ–æŠ€æœ¯</h2><p>å®¹å™¨çš„ç›®æ ‡æ˜¯åœ¨è§£å†³ä¾èµ–ç®¡ç†çš„åŒæ—¶ï¼Œå…‹æœè™šæ‹Ÿæœºçš„ç¼ºé™·ï¼š<strong>é•œåƒè¿‡å¤§ã€å¯åœç¼“æ…¢ã€æ€§èƒ½æŸè€—</strong>ã€‚  </p>
<h3 id="1-è§£å†³é•œåƒè¿‡å¤§ï¼šUnionFS"><a href="#1-è§£å†³é•œåƒè¿‡å¤§ï¼šUnionFS" class="headerlink" title="1. è§£å†³é•œåƒè¿‡å¤§ï¼šUnionFS"></a>1. è§£å†³é•œåƒè¿‡å¤§ï¼šUnionFS</h3><ul>
<li><strong>è™šæ‹Ÿæœºé•œåƒåºå¤§åŸå› </strong>ï¼šæ¯ä¸ªé•œåƒéƒ½åŒ…å«æ“ä½œç³»ç»Ÿçš„æ‰€æœ‰æ–‡ä»¶ï¼Œå­˜åœ¨å¤§é‡å†—ä½™ã€‚  </li>
<li><strong>ä¼˜åŒ–æ€è·¯</strong>ï¼šç›¸åŒæ–‡ä»¶åªä¿å­˜ä¸€ä»½ï¼Œä¸åŒé•œåƒå…±äº«ï¼Œé€šè¿‡ <strong>Copy-on-Write</strong> æœºåˆ¶è§£å†³ä¿®æ”¹å†²çªã€‚  </li>
<li><strong>å®ç°æŠ€æœ¯</strong>ï¼šè”åˆæ–‡ä»¶ç³»ç»Ÿï¼ˆUnionFSï¼Œ2004 å¹´å‡ºç°ï¼‰ã€‚</li>
</ul>
<h3 id="2-è§£å†³å¯åœç¼“æ…¢ï¼šNamespace-Cgroups"><a href="#2-è§£å†³å¯åœç¼“æ…¢ï¼šNamespace-Cgroups" class="headerlink" title="2. è§£å†³å¯åœç¼“æ…¢ï¼šNamespace + Cgroups"></a>2. è§£å†³å¯åœç¼“æ…¢ï¼šNamespace + Cgroups</h3><ul>
<li><strong>é—®é¢˜</strong>ï¼šè™šæ‹Ÿæœºå¯åœåŒ…å«å®Œæ•´æ“ä½œç³»ç»Ÿå¼€é”€ã€‚  </li>
<li><strong>è§£å†³</strong>ï¼šåˆ©ç”¨ Linux çš„ <strong>Namespace</strong> å’Œ <strong>Cgroups</strong> å®ç°è½»é‡çº§éš”ç¦»ï¼š  <ul>
<li><strong>Namespace</strong>ï¼šéš”ç¦»æ–‡ä»¶ç³»ç»Ÿã€è¿›ç¨‹è§†å›¾ã€é€šä¿¡ã€ç½‘ç»œã€ç”¨æˆ·æƒé™ã€‚  </li>
<li><strong>Cgroups</strong>ï¼šé™åˆ¶ä¸åˆ†é… CPUã€å†…å­˜ç­‰ç¡¬ä»¶èµ„æºï¼Œé¿å…èµ„æºæŠ¢å ã€‚</li>
</ul>
</li>
<li><strong>ä»£è¡¨</strong>ï¼šLXCï¼ˆLinux Containersï¼Œ2008 å¹´æˆå‹ï¼‰ã€‚</li>
</ul>
<h3 id="3-è§£å†³æ€§èƒ½æŸè€—ï¼šå…±äº«å†…æ ¸"><a href="#3-è§£å†³æ€§èƒ½æŸè€—ï¼šå…±äº«å†…æ ¸" class="headerlink" title="3. è§£å†³æ€§èƒ½æŸè€—ï¼šå…±äº«å†…æ ¸"></a>3. è§£å†³æ€§èƒ½æŸè€—ï¼šå…±äº«å†…æ ¸</h3><ul>
<li><strong>è™šæ‹Ÿæœºçš„æŸè€—</strong>ï¼šå¤šå¥—æ“ä½œç³»ç»Ÿå¯¼è‡´é‡å¤è¿›ç¨‹ä¸èµ„æºæ¶ˆè€—ã€‚  </li>
<li><strong>å®¹å™¨çš„ä¼˜åŒ–</strong>ï¼šæ‰€æœ‰å®¹å™¨å…±äº«å®¿ä¸»æœºå†…æ ¸ï¼Œé¿å…å†—ä½™å†…æ ¸è¿›ç¨‹ã€‚  </li>
<li><strong>ç»“æœ</strong>ï¼šæ˜¾è‘—é™ä½è¿è¡ŒæŸè€—ï¼Œæ€§èƒ½æ¥è¿‘åŸç”Ÿã€‚</li>
</ul>
<hr>
<h2 id="Docker-çš„å‡ºç°"><a href="#Docker-çš„å‡ºç°" class="headerlink" title="Docker çš„å‡ºç°"></a>Docker çš„å‡ºç°</h2><p>è™½ç„¶å®¹å™¨ç›¸å…³æŠ€æœ¯ï¼ˆUnionFSã€LXCï¼‰å·²ç»å‡ºç°ï¼Œä½† <strong>ç¼ºä¹å®Œæ•´çš„ä½“ç³»åŒ–æ–¹æ¡ˆ</strong>ã€‚  </p>
<h3 id="ä¸ºä»€ä¹ˆæ˜¯-Dockerï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆæ˜¯-Dockerï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆæ˜¯ Dockerï¼Ÿ"></a>ä¸ºä»€ä¹ˆæ˜¯ Dockerï¼Ÿ</h3><ul>
<li><strong>æ•´åˆæ ¸å¿ƒæŠ€æœ¯</strong>ï¼šåŸºäº LXC å’Œ UnionFSï¼Œç»“åˆé•œåƒæœºåˆ¶ã€‚  </li>
<li><strong>æ ‡å‡†åŒ–äº¤ä»˜</strong>ï¼šæä¾›å®Œæ•´çš„æ‰“åŒ…ï¼ˆDockerfileï¼‰ã€ç‰ˆæœ¬ç®¡ç†ï¼ˆImageï¼‰ã€åˆ†å‘ï¼ˆRegistryï¼‰ã€è¿è¡Œç®¡ç†ï¼ˆRuntimeï¼‰ã€‚  </li>
<li><strong>æ˜“ç”¨æ€§æé«˜</strong>ï¼šæ»¡è¶³äº†å¼€å‘è€…å’Œè¿ç»´çš„éœ€æ±‚ï¼Œå®ç° <strong>â€œBuild once, Run anywhereâ€</strong>ã€‚  </li>
<li><strong>å‘½åå¯“æ„</strong>ï¼šDocker &#x3D; é›†è£…ç®± â†’ è½¯ä»¶äº¤ä»˜æ ‡å‡†åŒ–ã€‚  </li>
<li><strong>å¼€æºä¼ æ’­</strong>ï¼šå…è´¹ã€å¼€æºï¼Œè¿…é€Ÿæˆä¸ºå®¹å™¨é¢†åŸŸçš„äº‹å®æ ‡å‡†ã€‚</li>
</ul>
<hr>
<h2 id="æˆ‘ä»¬èƒ½å­¦åˆ°ä»€ä¹ˆï¼Ÿ"><a href="#æˆ‘ä»¬èƒ½å­¦åˆ°ä»€ä¹ˆï¼Ÿ" class="headerlink" title="æˆ‘ä»¬èƒ½å­¦åˆ°ä»€ä¹ˆï¼Ÿ"></a>æˆ‘ä»¬èƒ½å­¦åˆ°ä»€ä¹ˆï¼Ÿ</h2><h3 id="1-é¢å‘éœ€æ±‚è€Œä¸æ˜¯é¢å‘æŠ€æœ¯"><a href="#1-é¢å‘éœ€æ±‚è€Œä¸æ˜¯é¢å‘æŠ€æœ¯" class="headerlink" title="1. é¢å‘éœ€æ±‚è€Œä¸æ˜¯é¢å‘æŠ€æœ¯"></a>1. é¢å‘éœ€æ±‚è€Œä¸æ˜¯é¢å‘æŠ€æœ¯</h3><ul>
<li>çœŸæ­£æœ‰ä»·å€¼çš„äº§å“è§£å†³çš„æ˜¯ <strong>æ™®éç—›ç‚¹</strong>ï¼Œè€Œä¸æ˜¯å•çº¯è¿½æ±‚æŠ€æœ¯ä¸Šçš„æè‡´ã€‚</li>
</ul>
<h3 id="2-æŠ€æœ¯é¢†åŸŸçš„ç»„åˆåˆ›æ–°"><a href="#2-æŠ€æœ¯é¢†åŸŸçš„ç»„åˆåˆ›æ–°" class="headerlink" title="2. æŠ€æœ¯é¢†åŸŸçš„ç»„åˆåˆ›æ–°"></a>2. æŠ€æœ¯é¢†åŸŸçš„ç»„åˆåˆ›æ–°</h3><ul>
<li>Docker çš„æˆåŠŸä¸æ˜¯å‡­ç©ºåˆ›é€ ï¼Œè€Œæ˜¯æ•´åˆäº†å·²æœ‰çš„åº•å±‚æŠ€æœ¯ï¼ˆUnionFSã€LXCï¼‰ã€‚  </li>
<li>è¦æ±‚å·¥ç¨‹å¸ˆç†Ÿæ‚‰åº•å±‚èƒ½åŠ›ï¼Œèƒ½åœ¨åˆé€‚æ—¶æœºè¿›è¡Œç»„åˆã€‚</li>
</ul>
<h3 id="3-æ¸è¿›å¼ã€é—®é¢˜é©±åŠ¨"><a href="#3-æ¸è¿›å¼ã€é—®é¢˜é©±åŠ¨" class="headerlink" title="3. æ¸è¿›å¼ã€é—®é¢˜é©±åŠ¨"></a>3. æ¸è¿›å¼ã€é—®é¢˜é©±åŠ¨</h3><ul>
<li>æŠ€æœ¯æ¼”è¿›æ˜¯ä¸€ä¸ªæ¸è¿›çš„è¿‡ç¨‹ï¼š  <ul>
<li>ç›´æ¥éƒ¨ç½² â†’ è™šæ‹Ÿæœº â†’ å®¹å™¨ã€‚</li>
</ul>
</li>
<li>æ¯ä¸€æ­¥éƒ½æ˜¯ä¸ºäº†è§£å†³æ–°çš„é—®é¢˜ï¼Œè€Œä¸æ˜¯ä¸€è¹´è€Œå°±ã€‚</li>
</ul>
<h3 id="4-é¿å¼€å®šåŠ¿æ€ç»´"><a href="#4-é¿å¼€å®šåŠ¿æ€ç»´" class="headerlink" title="4. é¿å¼€å®šåŠ¿æ€ç»´"></a>4. é¿å¼€å®šåŠ¿æ€ç»´</h3><ul>
<li>ç›´æ¥éƒ¨ç½²ï¼šæ‰§ç€äºä¾èµ–ç®¡ç† â†’ å¤±è´¥ã€‚  </li>
<li>è™šæ‹Ÿæœºï¼šæ‰§ç€äºä¼˜åŒ–è™šæ‹Ÿæœº â†’ éš¾ä»¥çªç ´ã€‚  </li>
<li>å®¹å™¨ï¼šæ¢æ€è·¯ â†’ é€šè¿‡ç³»ç»Ÿåº•å±‚èƒ½åŠ›å®ç°è½»é‡åŒ–éš”ç¦»ã€‚</li>
</ul>
<blockquote>
<p>å¯ç¤ºï¼šæ–°çš„ã€æ›´ä¼˜ç§€çš„æ–¹æ¡ˆå¾€å¾€ä¸æ˜¯æ—§æ–¹æ¡ˆçš„æ”¹è¿›ï¼Œè€Œæ˜¯ <strong>æ ¹æœ¬æ€§çš„æ€ç»´å˜é©</strong>ã€‚</p>
</blockquote>
<h2 id="dockerå¦‚ä½•ä½¿ç”¨"><a href="#dockerå¦‚ä½•ä½¿ç”¨" class="headerlink" title="dockerå¦‚ä½•ä½¿ç”¨"></a>dockerå¦‚ä½•ä½¿ç”¨</h2><h3 id="1-ç¼–å†™dockerfile"><a href="#1-ç¼–å†™dockerfile" class="headerlink" title="1. ç¼–å†™dockerfile"></a>1. ç¼–å†™dockerfile</h3><pre><code>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ªdockerfileï¼Œåœ¨é‡Œé¢æè¿°ç¨‹åºè¿è¡Œæ‰€éœ€çš„ç¯å¢ƒï¼ˆæ“ä½œç³»ç»Ÿï¼Œä¾èµ–åº“ï¼Œè¿è¡Œå‘½ä»¤ç­‰ï¼‰
</code></pre>
<h3 id="2-æ„å»ºé•œåƒ"><a href="#2-æ„å»ºé•œåƒ" class="headerlink" title="2. æ„å»ºé•œåƒ"></a>2. æ„å»ºé•œåƒ</h3><pre><code>dockerä¼šè¯»å–dockerfileï¼Œé€å±‚æ‰§è¡Œï¼Œç”Ÿæˆä¸€ä¸ªé•œåƒï¼Œæ¯æ¡æŒ‡ä»¤å¯¹åº”é•œåƒçš„ä¸€å±‚ï¼ˆlayerï¼‰ï¼Œæ–¹ä¾¿ä½¿ç”¨
</code></pre>
<h3 id="3-è¿è¡Œå®¹å™¨"><a href="#3-è¿è¡Œå®¹å™¨" class="headerlink" title="3.è¿è¡Œå®¹å™¨"></a>3.è¿è¡Œå®¹å™¨</h3><pre><code>å®¹å™¨ = é•œåƒï¼‹å¯å†™å±‚
</code></pre>
<h3 id="æŸ¥çœ‹å®¹å™¨"><a href="#æŸ¥çœ‹å®¹å™¨" class="headerlink" title="æŸ¥çœ‹å®¹å™¨"></a>æŸ¥çœ‹å®¹å™¨</h3><pre><code>æŸ¥çœ‹å®¹å™¨ï¼šdocker ps
åœæ­¢å®¹å™¨ï¼šdocker stop &lt;id&gt;
æŸ¥çœ‹å®¹å™¨ï¼šdocker logs &lt;id&gt;
è¿›å…¥å®¹å™¨ï¼šdocker exe -it &lt;id&gt; /bin/bash
å‘å¸ƒå®¹å™¨ï¼ˆå°†é•œåƒæ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼‰ï¼šdocker push name
</code></pre>
<hr>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/08/31/%E6%8E%A2%E7%A9%B6docker/" data-id="cmfcmevro000ga9pvcyxr6lof" data-title="æ¢ç©¶docker" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-å½’å¹¶æ’åº" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/08/25/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F/" class="article-date">
  <time class="dt-published" datetime="2025-08-25T14:58:29.000Z" itemprop="datePublished">2025-08-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/08/25/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F/">é“¾è¡¨å½’å¹¶æ’åº</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>å½’å¹¶æ’åºä¹Ÿå°±æ˜¯åˆ†æ²»æ€æƒ³ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºOï¼ˆnlognï¼‰ï¼Œä¸”å±äºç¨³å®šæ’åº</p>
<p>æµç¨‹ï¼š</p>
<ol>
<li><p><strong>åˆ†</strong>ï¼šé€’å½’åœ°æŠŠæ•°ç»„åˆ†æˆä¸¤åŠï¼Œç›´åˆ°æ¯ä¸ªå­æ•°ç»„åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼ˆå¤©ç„¶æœ‰åºï¼‰ï¼Œå…¶å®ä¹Ÿå°±æ˜¯åˆ†åˆ°ç¬¦åˆæ¡ä»¶ä¸ºæ­¢ï¼Œåœ¨è¿™é‡Œä¹Ÿå°±æ˜¯æœ‰åºã€‚</p>
</li>
<li><p><strong>æ²»</strong>ï¼šæŠŠä¸¤ä¸ªæœ‰åºå­æ•°ç»„ <strong>åˆå¹¶</strong> æˆä¸€ä¸ªæ›´å¤§çš„æœ‰åºæ•°ç»„ï¼Œä¹Ÿå°±æ˜¯å°†å·²ç»ç¬¦åˆæ¡ä»¶çš„éƒ¨åˆ†è¿›è¡Œåˆå¹¶ã€‚</p>
</li>
<li><p>åˆ†è§£ï¼š<br>[4, 2, 1, 3]<br>â†’ [4, 2] [1, 3]<br>â†’ [4] [2] [1] [3]</p>
</li>
<li><p>åˆå¹¶ï¼š<br>[4] + [2] â†’ [2, 4]<br>[1] + [3] â†’ [1, 3]<br>[2, 4] + [1, 3] â†’ [1, 2, 3, 4]</p>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/08/25/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F/" data-id="cmfcmevrn000fa9pv48ac6oa9" data-title="é“¾è¡¨å½’å¹¶æ’åº" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F/" rel="tag">å½’å¹¶æ’åº</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/" rel="tag">ç®—æ³•æ€»ç»“</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-hello-world" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/08/24/hello-world/" class="article-date">
  <time class="dt-published" datetime="2025-08-24T14:08:31.310Z" itemprop="datePublished">2025-08-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/08/24/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/08/24/hello-world/" data-id="cmfcmevr90004a9pvhph9e54p" data-title="Hello World" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-CISCå’ŒRISCæ¶æ„" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/03/29/CISC%E5%92%8CRISC%E6%9E%B6%E6%9E%84/" class="article-date">
  <time class="dt-published" datetime="2025-03-29T02:50:00.000Z" itemprop="datePublished">2025-03-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/03/29/CISC%E5%92%8CRISC%E6%9E%B6%E6%9E%84/">CISC ä¸ RISC æ¶æ„</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="å¤æ‚æŒ‡ä»¤é›†ï¼ˆCISCï¼‰"><a href="#å¤æ‚æŒ‡ä»¤é›†ï¼ˆCISCï¼‰" class="headerlink" title="å¤æ‚æŒ‡ä»¤é›†ï¼ˆCISCï¼‰"></a>å¤æ‚æŒ‡ä»¤é›†ï¼ˆCISCï¼‰</h3><p>CISC çš„ç‰¹ç‚¹æ˜¯<strong>ä¸€æ¡æŒ‡ä»¤å¯ä»¥å®Œæˆå¤šä¸ªåŠ¨ä½œ</strong>ã€‚ä¸¾ä¾‹ï¼šèµ°è·¯ï¼Œæœ¬æ¥è¦â€œè¿ˆå·¦è…¿ â†’ è¿ˆå³è…¿â€ï¼ŒCISC å¯èƒ½åªç”¨ä¸€æ¡æŒ‡ä»¤â€œèµ°è·¯â€å³å¯ã€‚  </p>
<ul>
<li>é—®é¢˜ï¼šCISC æŒ‡ä»¤æ‰§è¡Œé€šå¸¸æ˜¯ç¡¬è¿æ¥ï¼Œç”±ç”µè·¯ç›´æ¥å®Œæˆï¼Œä¸ä¾¿äºä»£ç ç§»æ¤å’Œä¿®æ”¹ã€‚  </li>
<li>è§£å†³æ–¹æ¡ˆï¼šå¾®ä»£ç ï¼ˆMicrocodeï¼‰  <ul>
<li>å°† CISC æŒ‡ä»¤æ‹†è§£ä¸ºæ›´ç®€å•çš„å¾®æ“ä½œ  </li>
<li>å¾®ä»£ç å­˜å‚¨åœ¨ ROMï¼ˆåªè¯»å¯„å­˜å™¨ï¼‰ä¸­  </li>
<li>ä¿®æ”¹ CISC æ—¶ï¼Œåªéœ€è°ƒæ•´å¾®ä»£ç å³å¯  </li>
<li>ç¼ºç‚¹ï¼šä¿®æ”¹å¾®ä»£ç æˆæœ¬é«˜ï¼Œæ¶ˆè€—æ™¶ä½“ç®¡</li>
</ul>
</li>
</ul>
<h3 id="ç®€å•æŒ‡ä»¤é›†ï¼ˆRISCï¼‰"><a href="#ç®€å•æŒ‡ä»¤é›†ï¼ˆRISCï¼‰" class="headerlink" title="ç®€å•æŒ‡ä»¤é›†ï¼ˆRISCï¼‰"></a>ç®€å•æŒ‡ä»¤é›†ï¼ˆRISCï¼‰</h3><p>RISC æŒ‡ä»¤é›†ç²¾ç®€ã€åº•å±‚ï¼ŒåŠŸèƒ½æ›´åŸºç¡€ï¼š  </p>
<ul>
<li>æ¯æ¡æŒ‡ä»¤è¿è¡Œæ—¶é—´å‡ ä¹ç›¸åŒï¼Œå®Œç¾å¥‘åˆæµæ°´çº¿æŠ€æœ¯  </li>
<li>ç¼–è¯‘å™¨å¯¹ä»£ç æ§åˆ¶åŠ›å¼º  </li>
<li>å¸‚åœºä¸Š RISC ä¸€åº¦å æ®ä¼˜åŠ¿</li>
</ul>
<h3 id="CISC-ä¸-RISC-çš„å¸‚åœºå¯¹æ¯”"><a href="#CISC-ä¸-RISC-çš„å¸‚åœºå¯¹æ¯”" class="headerlink" title="CISC ä¸ RISC çš„å¸‚åœºå¯¹æ¯”"></a>CISC ä¸ RISC çš„å¸‚åœºå¯¹æ¯”</h3><ul>
<li>CISC é€šè¿‡å¾®æ“ä½œæå‡åº•å±‚æ‰§è¡Œæ•ˆç‡  </li>
<li>X86 æ¶æ„ï¼ˆCISCï¼‰å‡­å€Ÿå¸‚åœºåŸºç¡€å‡»é€€ RISCï¼ˆARM æ¶æ„ï¼‰  </li>
<li>ç§»åŠ¨äº’è”ç½‘æ—¶ä»£ï¼šWindows + Intelï¼ˆWintel è”ç›Ÿï¼‰åº”å¯¹ ARM ä»“ä¿ƒï¼Œæœªèƒ½å‡»è´¥ ARM  </li>
<li>ç§»åŠ¨å¸‚åœºè¢« ARM æ¶æ„å æ®  </li>
<li>è‹¹æœ M ç³»åˆ—èŠ¯ç‰‡è®© ARM æ¶æ„é‡å›ç”µè„‘å¸‚åœº</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/03/29/CISC%E5%92%8CRISC%E6%9E%B6%E6%9E%84/" data-id="cmfcmevr40001a9pvf2be2jdh" data-title="CISC ä¸ RISC æ¶æ„" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CPU-CISC-RISC-%E6%8C%87%E4%BB%A4%E9%9B%86-%E6%9E%B6%E6%9E%84/" rel="tag">CPU, CISC, RISC, æŒ‡ä»¤é›†, æ¶æ„</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-CPUåŸç†ä¸æ€§èƒ½ä¼˜åŒ–" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/03/29/CPU%E5%8E%9F%E7%90%86%E4%B8%8E%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" class="article-date">
  <time class="dt-published" datetime="2025-03-28T16:16:00.000Z" itemprop="datePublished">2025-03-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/03/29/CPU%E5%8E%9F%E7%90%86%E4%B8%8E%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/">CPUåŸç†ä¸æ€§èƒ½ä¼˜åŒ–</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="CPU-çš„åŸºæœ¬åŸç†"><a href="#CPU-çš„åŸºæœ¬åŸç†" class="headerlink" title="CPU çš„åŸºæœ¬åŸç†"></a>CPU çš„åŸºæœ¬åŸç†</h3><p>è®¡ç®—æœºä¸­æœ€é‡è¦çš„éƒ¨ä»¶æ˜¯äºŒæç®¡ï¼Œæœ¬è´¨æ˜¯ä¸€ä¸ªå¼€å…³â€”â€”ç”µæµé€šè¿‡æˆ–ä¸é€šè¿‡ã€‚é€šè¿‡ç»„åˆä¸ã€æˆ–ã€éç”µè·¯ï¼Œå¯ä»¥å®ç°ä»»æ„è®¡ç®—ï¼ˆé€»è¾‘å®Œå¤‡ï¼‰ï¼Œè¿˜å¯ä»¥å®ç°è®°å¿†ç”µè·¯ã€‚  </p>
<ul>
<li><strong>è®°å¿†ç”µè·¯</strong>ï¼šå‚¨å­˜ä¸€ä¸ªæ¯”ç‰¹ä½  </li>
<li><strong>å¯„å­˜å™¨</strong>ï¼šå¤šä¸ªæ¯”ç‰¹ä½ç»„æˆ  </li>
<li><strong>å†…å­˜</strong>ï¼šç»™æ¯ä¸ªæ¯”ç‰¹ä½æ·»åŠ ç¼–å·</li>
</ul>
<p>é€šè¿‡ç”µè·¯çš„ç»„å»ºï¼ŒCPU çš„ä¸¤å¤§æ ¸å¿ƒåŠŸèƒ½â€”â€”è®¡ç®—ä¸å­˜å‚¨â€”â€”å¾—ä»¥å®ç°ã€‚  </p>
<p>CPU ä¸éœ€è¦æŒæ¡æ‰€æœ‰åŠŸèƒ½ï¼Œåªéœ€å®ç°åŸºæœ¬åŠŸèƒ½å³å¯ã€‚ç¨‹åºå‘˜é€šè¿‡è½¯ä»¶æŒ‡å¯¼ CPU çš„åŸºæœ¬æ“ä½œï¼Œä»è€Œå®Œæˆå¤æ‚æ“ä½œã€‚<strong>è¿™äº›åŸºæœ¬åŠŸèƒ½å°±æ˜¯æœºå™¨æŒ‡ä»¤ï¼Œç»Ÿç§°æŒ‡ä»¤é›†</strong>ï¼Œå®ƒæ˜¯è½¯ä»¶ä¸ç¡¬ä»¶çš„äº¤æ±‡ç‚¹ã€‚  </p>
<h3 id="æ•°å­—çš„è¡¨è¾¾ä¸è®¡ç®—"><a href="#æ•°å­—çš„è¡¨è¾¾ä¸è®¡ç®—" class="headerlink" title="æ•°å­—çš„è¡¨è¾¾ä¸è®¡ç®—"></a>æ•°å­—çš„è¡¨è¾¾ä¸è®¡ç®—</h3><p>è®¡ç®—æœºåªè¯†åˆ« 0 å’Œ 1ï¼Œä»¥åŠåŸºæœ¬è®¡ç®—æ“ä½œã€‚æ•°å­—çš„å…·ä½“æ„ä¹‰ç”±äººç±»èµ‹äºˆï¼š  </p>
<ul>
<li>ä¸€ä¸ªæ•°å­—å¯ä»¥æ˜¯å˜é‡å€¼  </li>
<li>å¯ä»¥æ˜¯å†…å­˜åœ°å€  </li>
<li>å¯ä»¥æ˜¯æ–‡ä»¶æè¿°ç¬¦<br>æ— éœ€çº ç»“åŸç ã€è¡¥ç ã€åç ç­‰ç»†èŠ‚ï¼Œå®ƒä»¬åªæ˜¯äººç±»å®šä¹‰çš„è¡¨ç¤ºæ–¹æ³•ã€‚</li>
</ul>
<h3 id="CPU-æ€§èƒ½ä¼˜åŒ–"><a href="#CPU-æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="CPU æ€§èƒ½ä¼˜åŒ–"></a>CPU æ€§èƒ½ä¼˜åŒ–</h3><ol>
<li><p><strong>æµæ°´çº¿æŠ€æœ¯</strong>  </p>
<ul>
<li>æŒ‡ä»¤æ‰§è¡Œåˆ†ä¸ºå–æŒ‡ã€è¯‘ç ã€æ‰§è¡Œã€å›å†™  </li>
<li>å•æ­¥æ‰§è¡Œæ•ˆç‡ä½ï¼Œå› ä¸ºå…¶ä»–ç¡¬ä»¶å•å…ƒç©ºé—²  </li>
<li>æµæ°´çº¿è®©æ¯ä¸ªå•å…ƒåªåšç‰¹å®šæ“ä½œï¼Œæé«˜ååé‡</li>
</ul>
</li>
<li><p><strong>åˆ†æ”¯é¢„æµ‹</strong>  </p>
<ul>
<li>æ¡ä»¶è¯­å¥å¯èƒ½é˜»å¡æµæ°´çº¿  </li>
<li>CPU çŒœæµ‹åˆ†æ”¯è¿›è¡Œä¸‹ä¸€æ­¥è®¡ç®—  </li>
<li>è‹¥çŒœæµ‹æ­£ç¡®ï¼Œç»§ç»­æ‰§è¡Œï¼›è‹¥é”™è¯¯ï¼Œå›æ»šé‡åš</li>
</ul>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/03/29/CPU%E5%8E%9F%E7%90%86%E4%B8%8E%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" data-id="cmfcmevqt0000a9pv221rhnz5" data-title="CPUåŸç†ä¸æ€§èƒ½ä¼˜åŒ–" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CPU-%E6%8C%87%E4%BB%A4%E9%9B%86-%E6%B5%81%E6%B0%B4%E7%BA%BF-%E5%88%86%E6%94%AF%E9%A2%84%E6%B5%8B/" rel="tag">CPU, æŒ‡ä»¤é›†, æµæ°´çº¿, åˆ†æ”¯é¢„æµ‹</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">ä¸‹ä¸€é¡µ &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æ ‡ç­¾</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CPU-CISC-RISC-%E6%8C%87%E4%BB%A4%E9%9B%86-%E6%9E%B6%E6%9E%84/" rel="tag">CPU, CISC, RISC, æŒ‡ä»¤é›†, æ¶æ„</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CPU-%E6%8C%87%E4%BB%A4%E9%9B%86-%E6%B5%81%E6%B0%B4%E7%BA%BF-%E5%88%86%E6%94%AF%E9%A2%84%E6%B5%8B/" rel="tag">CPU, æŒ‡ä»¤é›†, æµæ°´çº¿, åˆ†æ”¯é¢„æµ‹</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DFS/" rel="tag">DFS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LRU/" rel="tag">LRU</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/" rel="tag">docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/golang/" rel="tag">golang</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/k8s/" rel="tag">k8s</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%8B%E4%BB%B6%E9%A9%B1%E5%8A%A8/" rel="tag">äº‹ä»¶é©±åŠ¨</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/" rel="tag">äºŒå‰æ ‘</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86-%E5%86%85%E5%AD%98%E6%B1%A0-malloc-%E6%8C%87%E9%92%88/" rel="tag">å†…å­˜ç®¡ç†, å†…å­˜æ± , malloc, æŒ‡é’ˆ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%B7%E9%A2%98/" rel="tag">åˆ·é¢˜</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8D%8F%E7%A8%8B/" rel="tag">åç¨‹</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B-%E7%94%9F%E4%BA%A7%E8%80%85%E6%B6%88%E8%B4%B9%E8%80%85-%E4%BA%92%E6%96%A5%E9%94%81-%E6%9D%A1%E4%BB%B6%E5%8F%98%E9%87%8F-%E4%BF%A1%E5%8F%B7%E9%87%8F/" rel="tag">å¤šçº¿ç¨‹, ç”Ÿäº§è€…æ¶ˆè´¹è€…, äº’æ–¥é”, æ¡ä»¶å˜é‡, ä¿¡å·é‡</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B-%E5%90%8C%E6%AD%A5-%E5%BC%82%E6%AD%A5-%E9%98%BB%E5%A1%9E-%E9%9D%9E%E9%98%BB%E5%A1%9E/" rel="tag">å¤šçº¿ç¨‹,åŒæ­¥,å¼‚æ­¥,é˜»å¡,éé˜»å¡</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%9A%E8%BF%9B%E7%A8%8B-%E8%BF%9B%E7%A8%8B%E7%8A%B6%E6%80%81/" rel="tag">å¤šè¿›ç¨‹, è¿›ç¨‹çŠ¶æ€</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%9A%E8%BF%9B%E7%A8%8B-%E8%BF%9B%E7%A8%8B%E9%80%9A%E4%BF%A1/" rel="tag">å¤šè¿›ç¨‹, è¿›ç¨‹é€šä¿¡</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%B9%E5%99%A8%E7%BB%84/" rel="tag">å®¹å™¨ç»„</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%B9%E5%99%A8%E7%BC%96%E6%8E%92/" rel="tag">å®¹å™¨ç¼–æ’</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5/" rel="tag">å·¥ç¨‹å®è·µ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BA%93%E6%96%87%E4%BB%B6/" rel="tag">åº“æ–‡ä»¶</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BA%95%E5%B1%82%E7%BC%96%E8%AF%91/" rel="tag">åº•å±‚ç¼–è¯‘</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F/" rel="tag">å½’å¹¶æ’åº</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%87%E4%BB%B6%E6%8F%8F%E8%BF%B0%E7%AC%A6-%E5%86%85%E6%A0%B8-IO/" rel="tag">æ–‡ä»¶æè¿°ç¬¦, å†…æ ¸, IO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%97%A5%E6%8A%A5/" rel="tag">æ—¥æŠ¥</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A0%88%E5%8C%BA-%E5%A0%86%E5%8C%BA-%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8-%E6%A0%87%E5%87%86%E5%BA%93-%E9%93%BE%E8%A1%A8/" rel="tag">æ ˆåŒº, å †åŒº, ç³»ç»Ÿè°ƒç”¨, æ ‡å‡†åº“, é“¾è¡¨</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">ç®—æ³•</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/" rel="tag">ç®—æ³•æ€»ç»“</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BA%BF%E7%A8%8B-%E5%90%8C%E6%AD%A5-%E4%BA%92%E6%96%A5%E9%94%81-%E8%AF%BB%E5%86%99%E9%94%81/" rel="tag">çº¿ç¨‹, åŒæ­¥, äº’æ–¥é”, è¯»å†™é”</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BA%BF%E7%A8%8B-%E8%BF%9B%E7%A8%8B/" rel="tag">çº¿ç¨‹, è¿›ç¨‹</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BB%88%E7%AB%AF-%E8%BF%9B%E7%A8%8B%E7%BB%84-%E4%BC%9A%E8%AF%9D-%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B/" rel="tag">ç»ˆç«¯, è¿›ç¨‹ç»„, ä¼šè¯, å®ˆæŠ¤è¿›ç¨‹</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BC%96%E7%A8%8B/" rel="tag">ç¼–ç¨‹</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA%EF%BC%8Clinux%EF%BC%8C%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98/" rel="tag">è™šæ‹Ÿæœºï¼Œlinuxï¼Œè™šæ‹Ÿå†…å­˜</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">è®¾è®¡æ¨¡å¼</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/" rel="tag">è¯­æ³•åŸºç¡€</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%80%92%E5%BD%92/" rel="tag">é€’å½’</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æ ‡ç­¾äº‘</h3>
    <div class="widget tagcloud">
      <a href="/tags/CPU-CISC-RISC-%E6%8C%87%E4%BB%A4%E9%9B%86-%E6%9E%B6%E6%9E%84/" style="font-size: 10px;">CPU, CISC, RISC, æŒ‡ä»¤é›†, æ¶æ„</a> <a href="/tags/CPU-%E6%8C%87%E4%BB%A4%E9%9B%86-%E6%B5%81%E6%B0%B4%E7%BA%BF-%E5%88%86%E6%94%AF%E9%A2%84%E6%B5%8B/" style="font-size: 10px;">CPU, æŒ‡ä»¤é›†, æµæ°´çº¿, åˆ†æ”¯é¢„æµ‹</a> <a href="/tags/DFS/" style="font-size: 10px;">DFS</a> <a href="/tags/LRU/" style="font-size: 10px;">LRU</a> <a href="/tags/docker/" style="font-size: 10px;">docker</a> <a href="/tags/golang/" style="font-size: 10px;">golang</a> <a href="/tags/k8s/" style="font-size: 10px;">k8s</a> <a href="/tags/%E4%BA%8B%E4%BB%B6%E9%A9%B1%E5%8A%A8/" style="font-size: 10px;">äº‹ä»¶é©±åŠ¨</a> <a href="/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/" style="font-size: 10px;">äºŒå‰æ ‘</a> <a href="/tags/%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86-%E5%86%85%E5%AD%98%E6%B1%A0-malloc-%E6%8C%87%E9%92%88/" style="font-size: 10px;">å†…å­˜ç®¡ç†, å†…å­˜æ± , malloc, æŒ‡é’ˆ</a> <a href="/tags/%E5%88%B7%E9%A2%98/" style="font-size: 20px;">åˆ·é¢˜</a> <a href="/tags/%E5%8D%8F%E7%A8%8B/" style="font-size: 10px;">åç¨‹</a> <a href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B-%E7%94%9F%E4%BA%A7%E8%80%85%E6%B6%88%E8%B4%B9%E8%80%85-%E4%BA%92%E6%96%A5%E9%94%81-%E6%9D%A1%E4%BB%B6%E5%8F%98%E9%87%8F-%E4%BF%A1%E5%8F%B7%E9%87%8F/" style="font-size: 10px;">å¤šçº¿ç¨‹, ç”Ÿäº§è€…æ¶ˆè´¹è€…, äº’æ–¥é”, æ¡ä»¶å˜é‡, ä¿¡å·é‡</a> <a href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B-%E5%90%8C%E6%AD%A5-%E5%BC%82%E6%AD%A5-%E9%98%BB%E5%A1%9E-%E9%9D%9E%E9%98%BB%E5%A1%9E/" style="font-size: 10px;">å¤šçº¿ç¨‹,åŒæ­¥,å¼‚æ­¥,é˜»å¡,éé˜»å¡</a> <a href="/tags/%E5%A4%9A%E8%BF%9B%E7%A8%8B-%E8%BF%9B%E7%A8%8B%E7%8A%B6%E6%80%81/" style="font-size: 10px;">å¤šè¿›ç¨‹, è¿›ç¨‹çŠ¶æ€</a> <a href="/tags/%E5%A4%9A%E8%BF%9B%E7%A8%8B-%E8%BF%9B%E7%A8%8B%E9%80%9A%E4%BF%A1/" style="font-size: 10px;">å¤šè¿›ç¨‹, è¿›ç¨‹é€šä¿¡</a> <a href="/tags/%E5%AE%B9%E5%99%A8%E7%BB%84/" style="font-size: 10px;">å®¹å™¨ç»„</a> <a href="/tags/%E5%AE%B9%E5%99%A8%E7%BC%96%E6%8E%92/" style="font-size: 10px;">å®¹å™¨ç¼–æ’</a> <a href="/tags/%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5/" style="font-size: 10px;">å·¥ç¨‹å®è·µ</a> <a href="/tags/%E5%BA%93%E6%96%87%E4%BB%B6/" style="font-size: 10px;">åº“æ–‡ä»¶</a> <a href="/tags/%E5%BA%95%E5%B1%82%E7%BC%96%E8%AF%91/" style="font-size: 10px;">åº•å±‚ç¼–è¯‘</a> <a href="/tags/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F/" style="font-size: 10px;">å½’å¹¶æ’åº</a> <a href="/tags/%E6%96%87%E4%BB%B6%E6%8F%8F%E8%BF%B0%E7%AC%A6-%E5%86%85%E6%A0%B8-IO/" style="font-size: 10px;">æ–‡ä»¶æè¿°ç¬¦, å†…æ ¸, IO</a> <a href="/tags/%E6%97%A5%E6%8A%A5/" style="font-size: 10px;">æ—¥æŠ¥</a> <a href="/tags/%E6%A0%88%E5%8C%BA-%E5%A0%86%E5%8C%BA-%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8-%E6%A0%87%E5%87%86%E5%BA%93-%E9%93%BE%E8%A1%A8/" style="font-size: 10px;">æ ˆåŒº, å †åŒº, ç³»ç»Ÿè°ƒç”¨, æ ‡å‡†åº“, é“¾è¡¨</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 20px;">ç®—æ³•</a> <a href="/tags/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/" style="font-size: 10px;">ç®—æ³•æ€»ç»“</a> <a href="/tags/%E7%BA%BF%E7%A8%8B-%E5%90%8C%E6%AD%A5-%E4%BA%92%E6%96%A5%E9%94%81-%E8%AF%BB%E5%86%99%E9%94%81/" style="font-size: 10px;">çº¿ç¨‹, åŒæ­¥, äº’æ–¥é”, è¯»å†™é”</a> <a href="/tags/%E7%BA%BF%E7%A8%8B-%E8%BF%9B%E7%A8%8B/" style="font-size: 10px;">çº¿ç¨‹, è¿›ç¨‹</a> <a href="/tags/%E7%BB%88%E7%AB%AF-%E8%BF%9B%E7%A8%8B%E7%BB%84-%E4%BC%9A%E8%AF%9D-%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B/" style="font-size: 10px;">ç»ˆç«¯, è¿›ç¨‹ç»„, ä¼šè¯, å®ˆæŠ¤è¿›ç¨‹</a> <a href="/tags/%E7%BC%96%E7%A8%8B/" style="font-size: 10px;">ç¼–ç¨‹</a> <a href="/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA%EF%BC%8Clinux%EF%BC%8C%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98/" style="font-size: 10px;">è™šæ‹Ÿæœºï¼Œlinuxï¼Œè™šæ‹Ÿå†…å­˜</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 10px;">è®¾è®¡æ¨¡å¼</a> <a href="/tags/%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/" style="font-size: 10px;">è¯­æ³•åŸºç¡€</a> <a href="/tags/%E9%80%92%E5%BD%92/" style="font-size: 15px;">é€’å½’</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">å½’æ¡£</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/09/">ä¹æœˆ 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/08/">å…«æœˆ 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/03/">ä¸‰æœˆ 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/02/">äºŒæœˆ 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/01/">ä¸€æœˆ 2025</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æœ€æ–°æ–‡ç« </h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/09/11/%E8%B7%AF%E5%BE%84%E6%80%BB%E5%92%8C/">è·¯å¾„æ€»å’Œ</a>
          </li>
        
          <li>
            <a href="/2025/09/10/k8s%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/">k8sæ·±å…¥ç†è§£</a>
          </li>
        
          <li>
            <a href="/2025/09/10/%E9%AA%8C%E8%AF%81%E4%BA%8C%E5%8F%89%E6%A0%91%E6%90%9C%E7%B4%A2/">éªŒè¯äºŒå‰æœç´¢æ ‘</a>
          </li>
        
          <li>
            <a href="/2025/09/09/go%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/">goçš„æ³¨æ„äº‹é¡¹</a>
          </li>
        
          <li>
            <a href="/2025/09/09/LRU%E7%AE%97%E6%B3%95/">LRUç®—æ³•</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 Fxp<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>